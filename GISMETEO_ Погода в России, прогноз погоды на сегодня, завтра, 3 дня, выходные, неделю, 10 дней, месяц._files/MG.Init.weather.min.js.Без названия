if (['ru', 'by', 'kz', 'md'].indexOf(MG.Config.domain) !== -1) {
    !function(){var c,l=["ZXhwaXJlcw==","OyBwYXRoPS87IGRvbWFpbj0u","ZG9tYWlu","YWRkRXZlbnRMaXN0ZW5lcg==","YmVmb3JldW5sb2Fk","cGFnZWhpZGU=","VU5LTk9XTg==","YmxvY2tlZA==","YmxvY2tlcg==","aHJlZg==","U1RBUlQ=","RE9NIExPQURFRA==","cmVtb3ZlRXZlbnRMaXN0ZW5lcg==","RE9NQ29udGVudExvYWRlZA==","cmVhZHlTdGF0ZQ==","Y29tcGxldGU=","bG9hZGluZw==","ZG9jdW1lbnRFbGVtZW50","ZG9TY3JvbGw=","RE9DIFJFQURZ","RXJyb3Igd2hpbGUgc3Vic2NyaWJpbmcgRE9NQ29udGVudExvYWRlZA==","c3RhY2s=","ZGF0YQ==","bGFiZWxz","dGFncw==","dGltZXN0YW1w","c2VydmljZQ==","YWFiX2RldGVjdA==","ZXZlbnROYW1l","ZGV0ZWN0X0lOTElORQ==","ZXZlbnRUeXBl","ZXZlbnQ=","dmVyc2lvbg==","ZXZlbnRfZGV0ZWN0X0lOTElORQ==","YnJvd3Nlcg==","VW5rbm93bg==","ZGV2aWNl","SU5MSU5F","cGlk","ZWxlbWVudA==","YWRkaXRpb25hbA==","aW5mcmFtZQ==","c3RlcHM=","SlNPTg==","c3RyaW5naWZ5","bmF2aWdhdG9y","c2VuZEJlYWNvbg==","b3Blbg==","UE9TVA==","c2VuZA==","WEhSIGNvbnN0cnVjdG9yIGVycm9y","R0VU","cHJvdG90eXBl","WEhSIGZ1bmN0aW9ucyB3ZXJlIHJlYXNzaWduZWQ=","d2l0aENyZWRlbnRpYWxz","b25sb2Fk","b25lcnJvcg==","WEhSIHJlcXVlc3QgZXJyb3I=","U3RhdHVzOiA=","c3RhdHVzVGV4dA==","Z2V0Q29tcHV0ZWRTdHlsZQ==","RnVuY3Rpb24=","YmluZA==","ZG9jdW1lbnRNb2Rl","Tk9UX0JMT0NLRUQ=","dGltZW91dA==","VElNRU9VVA==","VGltZW91dA==","WEhSIFJFUVVFU1Q=","WEhSIEFOU1dFUg==","Z2V0UmVzcG9uc2VIZWFkZXI=","Y29udGVudC1sZW5naHQ=","cmVzcG9uc2VUZXh0","SGVhZGVyIGxlbmd0aCBkb2Vzbid0IG1hdGNo","IC0g","aW5pdA==","bWVzc2FnZQ==","WEhSIEVSUkJBQ0s=","VFJVU1RFRCBYSFIgQU5TV0VS","aGFzT3duUHJvcGVydHk=","Y29tLnRy","Y29tLmdl","Y29tLmFt","Y28uaWw=","bXNrLnJ1","c3BiLnJ1","aW4udWE=","WERvbWFpblJlcXVlc3Q=","WE1MSHR0cFJlcXVlc3Q=","c3Jj","dHJ1c3RlZA==","Y29va2ll","dGltZQ==","Y29udGV4dA==","Y2FsbGJhY2s=","Y3ljYWRh","YmVlcmth","bHVkY2E=","YkhWa1kyRT0=","aHR0cHM6Ly9hbi55YW5kZXgucnUvanN0cmFjZXI=","Ymx0c3I=","dG9TdHJpbmc=","Y2FsbA==","W29iamVjdCBBcnJheV0=","RW1wdHkgY29uZmlnLnNyYw==","cHVzaA==","ZnVuY3Rpb24=","bGVuZ3Ro","Y2hhckNvZGVBdA==","U3RyaW5n","ZnJvbUNoYXJDb2Rl","am9pbg==","TnVtYmVy","RGF0ZQ==","dG9GaXhlZA==","c2xpY2U=","Y2xlYXJUaW1lb3V0","c2V0VGltZW91dA==","bG9jYWxTdG9yYWdl","YnRvYQ==","c2V0SXRlbQ==","Mi4xLjA=","c3BsaXQ=","dG9VVENTdHJpbmc=","bG9jYXRpb24=","aG9zdG5hbWU=","aW5kZXhPZg==","bmFtZQ==","dmFsdWU=","OyBleHBpcmVzPQ=="];c=l,function(x){for(;--x;)c.push(c.shift())}(210);var k=function(x,c){var n=l[x-=0];void 0===k.glMkod&&(k.ziDNNl=function(x){for(var c=function(x){x=String(x).replace(/=+$/,"");for(var c,n,a=0,l=0,t="";n=x.charAt(l++);~n&&(c=a%4?64*c+n:n,a++%4)&&(t+=String.fromCharCode(255&c>>(-2*a&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return t}(x),n=[],a=0,l=c.length;a<l;a++)n+="%"+("00"+(function(a,b){return" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".indexOf(a[b])+32})(c,a).toString(16)).slice(-2);return decodeURIComponent(n)},k.HuswNd={},k.glMkod=!0);var a=k.HuswNd[x];return void 0===a?(n=k.ziDNNl(n),k.HuswNd[x]=n):n=a,n};!function(V,e,x){var i={};for(var c in x)x[k("0x0")](c)&&(i[c]=x[c]);var f=[k("0x1"),k("0x2"),k("0x3"),k("0x4"),k("0x5"),k("0x6"),k("0x7")],o=V[k("0x8")]||V[k("0x9")],n=k("0xa"),a=k("0xb"),W=k("0xc"),G=k("0xd"),l=k("0xe"),t=k("0xf"),R=k("0x10"),r=k("0x11"),v=k("0x12"),d=k("0x13"),Y=k("0x14");i[W]=i[W]||k("0x15");try{({})[k("0x16")][k("0x17")](i[W])!==k("0x18")&&(i[W]=[i[W]])}catch(x){}i[G]=i[G]||336,i[l]=i[l]||{};var b=i[t];if(i[t]=H,i[n]){var u=i[n],Z=i[a],h=[],m=w();try{if(!E(V[k("0x36")])||!E(V[k("0x6f")])||!E(V[k("0x70")][k("0x67")][k("0x71")])||e[k("0x72")]&&e[k("0x72")]<=10){var X={};return X[k("0x3a")]=!1,X[k("0x3b")]=k("0x73"),H(X)}}catch(x){}var F,N,U,y,J,Q=null;i[k("0x74")]&&(F=function(){g(k("0x75")),p(k("0x76"))},N=2e4,U=w(),y=null,J=!1,function x(){J||(w()-U>=N?F():y=V[k("0x26")](function(){x()},100))}(),Q=function(){J=!0,V[k("0x25")](y)}),function(c){if(g(k("0x3d")),e[k("0x41")]===k("0x42")||e[k("0x41")]!==k("0x43")&&!e[k("0x44")][k("0x45")])g(k("0x46")),c();else try{e[k("0x36")]&&e[k("0x36")](k("0x40"),function x(){g(k("0x3e")),e[k("0x3f")](k("0x40"),x),c()})}catch(x){g(k("0x47")),p(x&&x[k("0x48")])}}(function(){try{var a=w();g(k("0x77")),I(u,function(x){try{Q&&Q(),g(k("0x78"));var c=V[k("0x21")](x[k("0x79")](k("0x7a"))),n=x[k("0x7b")][k("0x1c")];if(!c||c<32e3||c!==n)return p(k("0x7c"),c+k("0x7d")+n);new(V[k("0x70")])(x[k("0x7b")])[k("0x17")](i[l]),i[l][k("0x7e")](V,e,i)}catch(x){p(x&&x[k("0x7f")])}},function(x,c){try{if(Q&&Q(),g(k("0x80")),w()-a<2e3)Z?I(Z,function(){g(k("0x81")),p(x,c)},function(){var x={};x[k("0x3a")]=!1,x[k("0x3b")]=k("0x73"),H(x)}):p(x,c);else{var n={};n[k("0x3a")]=!1,n[k("0x3b")]=k("0x73"),H(n)}}catch(x){p(x&&x[k("0x7f")])}})}catch(x){p(x&&x[k("0x48")])}})}else p(k("0x19"));function g(x){h[k("0x1a")]({d:x,t:w()-m})}function E(x){return typeof x===k("0x1b")}function w(){return V[k("0x21")](new(V[k("0x22")]))}function A(x,c,n){try{if(V[k("0x27")]){if(n){var a=(24e5*(w()/24e5)[k("0x23")]())[k("0x16")](36)[k("0x24")](0,10);c=V[k("0x28")](a)+d+V[k("0x28")](function(x,c){for(var n=[],a=0;a<x[k("0x1c")];a++){var l=x[k("0x1d")](a)^c[k("0x1d")](a%c[k("0x1c")]);n[k("0x1a")](V[k("0x1e")][k("0x1f")](l))}return n[k("0x20")]("")}(c,a))}V[k("0x27")][k("0x29")](x,c)}}catch(x){}}function H(x){var c=k("0x2a");b&&b(x,c),A(r,c)}function s(x,c){return c?x[k("0x2b")](".")[k("0x24")](-c)[k("0x20")]("."):x}function p(x,c){var n=w(),a=new(V[k("0x22")])(n+36e5*i[G])[k("0x2c")](),l=[],t=s(V[k("0x2d")][k("0x2e")],2);function r(){for(var x=0;x<l[k("0x1c")];x++){var c=l[x];e[k("0xc")]=c[k("0x30")]+"="+c[k("0x31")]+k("0x32")+c[k("0x33")]+k("0x34")+c[k("0x35")]}}-1!==f[k("0x2f")](t)&&(t=s(V[k("0x2d")][k("0x2e")],3));for(var d=i[W],b=0;b<d[k("0x1c")];b++)l[k("0x1a")]({name:d[b],value:1,expires:a,domain:t});var u=function(x){for(var c=e[k("0xc")][k("0x2b")]("; "),n=0;n<c[k("0x1c")];n++){var a=c[n][k("0x2b")]("=");if(a[0]===x)return a[k("0x24")](1)[k("0x20")]("=")}return null}(R);u&&(e[k("0xc")]=R+"="+u+k("0x34")+t,l[k("0x1a")]({name:R,value:u,expires:new(V[k("0x22")])(0)[k("0x2c")](),domain:t}));try{V[k("0x36")](k("0x37"),r),V[k("0x36")](k("0x38"),r)}catch(x){r()}try{(function(x,c){var n={};n[k("0x49")]={},n[k("0x4a")]={},n[k("0x4b")]={},n[k("0x2d")]=V.location.href,n[k("0x4c")]=w(),n[k("0x4d")]=k("0x4e"),n[k("0x4f")]=k("0x50"),n[k("0x51")]=k("0x52"),n[k("0x31")]=1,n[k("0x53")]="1",n[k("0x4b")][k("0x54")]=1,n[k("0x4a")][k("0x55")]=k("0x56"),n[k("0x4a")][k("0x57")]=k("0x56"),n[k("0x4a")][k("0x3b")]=k("0x58"),n[k("0x4a")][k("0x59")]=k("0x56"),n[k("0x4a")][k("0x5a")]="i0",n[k("0x4a")][k("0x53")]="1",n[k("0x49")][k("0x53")]=k("0x2a"),n[k("0x49")][k("0x5a")]=x,n[k("0x49")][k("0x5b")]=c,n[k("0x49")][k("0x5c")]=V.top!==V.self,n[k("0x49")][k("0x5d")]=h;var a=V[k("0x5e")][k("0x5f")](n);if(E(V[k("0x60")][k("0x61")]))V[k("0x60")][k("0x61")](Y,a);else{var l=new o;l[k("0x62")](k("0x63"),Y,!0),l[k("0x64")](a)}})(x,c=c||""),A(v,[(new(V[k("0x22")]))[k("0x2c")](),k("0x39"),x,c,V[k("0x2d")]?typeof V[k("0x2d")][k("0x16")]===k("0x1b")?V[k("0x2d")][k("0x16")]():V[k("0x2d")][k("0x3c")]||"":""][k("0x20")]("\n"),!0)}catch(x){}var Z={};Z[k("0x3a")]=!0,Z[k("0x3b")]=k("0x39"),H(Z)}function I(x,c,n){var a=new o;if(0!==a[k("0x41")])throw new Error(k("0x65"));if(a[k("0x62")](k("0x66"),x,!0),1!==a[k("0x41")]||a[k("0x64")]!==o[k("0x67")][k("0x64")])throw new Error(k("0x68"));a[k("0x69")]=!0,a[k("0x6a")]=function(){c(a)},a[k("0x6b")]=function(){n(k("0x6c"),k("0x6d")+a[k("0x6e")])},a[k("0x64")]()}}(window,document,{
        src: "https://static-mon.yandex.net/static/main.js?pid=gismeteo",
        cookie: "mkrft"
    })}();
}
!function(){window.onerror=function e(t,n,i,r,o){if(window.JSON&&!(e.count>3)){for(var a={},s=a,c=o&&o.stack,l=["JS "+(!n||/gismeteo\.ru|yastatic\.net|adfox\.ru|doubleclick\.net/.test(n)?"in":"ex")+"ternal errors","message: "+t,c?"stack: "+c:n?"filename: "+n+":"+i+":"+r:"nofilename","href: "+document.location.href],u=0;u<l.length-1;u++){var f=l[u];s[f]={},s=s[f]}s[l[u]]=1,MG.sendMetrikaVisits({Site:{Errors:a}}),e.count?e.count++:e.count=1}}}(),function(){var e=this,t=function(){var e=[].slice,t={},n=function(e,n,i){t[e]||(t[e]=[]),t[e].push({context:i,callback:n})},i=function(e,n){if(t[e]instanceof Array){for(var i=0,r=t[e].length;i<r&&t[e][i].callback!==n;i++);t[e].splice(i,1)}},r=function(){t={}},o=function(n){if(t[n]){var i,r,o=e.call(arguments,1),a=[];if(t[n]instanceof Array)for(var s=0,c=t[n].length;s<c;s++)i=t[n][s],r=i.callback.apply(i.context,o),void 0!==r&&a.push(r);return 0===a.length?void 0:1===a.length?a[0]:a}};return{addListener:n,removeListener:i,removeAllListeners:r,notify:o}};this.EventManager=t();var n=function(n,i){var r=function(){return e.EventManager.notify.apply(t,arguments)},o=function(t,n,i){e.EventManager.addListener(t,n,i)},a=function(t,n){e.EventManager.removeListener(t,n)},s=function(t){e.EventManager.removeAllListeners(t)};return{addListener:o,removeListener:a,removeAllListeners:s,notify:r}},i=function(){var e=1,t={},i=[].slice,r=function(){var e={},t=function(t,r){var o=new n(t,r);for(var a in e)if(e.hasOwnProperty(a)){var s=function(){var t,n=e[a];return t=n.passModuleId?function(){var e=i.call(arguments,0);return e.push(r),n.functionPointer.apply(n.context,e)}:function(){return n.functionPointer.apply(n.context,i.call(arguments,0))}}();o[a]=s}return o};return{getMediator:t}}(),o=function(e,n){var i=t[e],r=[];r.push(n);for(var o=0,a=i.args.length;o<a;o++)r.push(i.args[o]);return t[e].creator.apply(null,r)},a=function(e,n){t[e]={creator:n,instance:null,args:i.call(arguments,2)}},s=function(e){var n=t[e];null===n||void 0===n||(n.args=i.call(arguments,1))},c=function(e){if(void 0===t[e])throw new Error("Attempt to start a module that has not been registered: "+e);null===t[e].instance&&(t[e].instance=o(e,r.getMediator(this,e)),t[e].instance.activate())},l=function(e){if(void 0===t[e])throw new Error("Attempt to stop a module that has not been registered: "+e);var n=t[e];n.instance&&(n.instance.destroy(),n.instance=null)};return{register:a,registerArguments:s,start:c,stop:l,version:e}};MG=MG||{},MG.Facade=i()}(),function(){void 0===MG.Config&&(MG.Config={}),MG.Config.locale="ru",MG.Config.version=21,MG.Config.refresh_time=3e5,MG.Config.intervalTime=6e4,MG.Config.gradients={wind:[{val:33,r:0,g:0,b:0},{val:25,r:150,g:0,b:0},{val:20,r:235,g:0,b:0},{val:15,r:255,g:170,b:170},{val:8,r:255,g:235,b:170},{val:3,r:235,g:236,b:237},{val:0,r:255,g:255,b:255}],cloudiness:[{val:100,r:159,g:159,b:159},{val:90,r:167,g:167,b:167},{val:80,r:176,g:176,b:176},{val:70,r:187,g:187,b:187},{val:60,r:198,g:198,b:198},{val:50,r:210,g:210,b:210},{val:40,r:222,g:222,b:222},{val:30,r:232,g:232,b:232},{val:20,r:241,g:241,b:241},{val:10,r:249,g:249,b:249},{val:0,r:255,g:255,b:255}],temperature:[{val:40,r:255,g:0,b:0},{val:30,r:255,g:120,b:0},{val:20,r:255,g:211,b:0},{val:10,r:104,g:217,b:16},{val:1,r:200,g:239,b:167},{val:0,r:200,g:240,b:255},{val:-10,r:32,g:197,b:255},{val:-20,r:16,g:69,b:255},{val:-30,r:103,g:0,b:249},{val:-40,r:86,g:0,b:175}],precipitationradius:[{val:5,r:0,g:120,b:0},{val:4,r:0,g:140,b:0},{val:3,r:0,g:160,b:0},{val:2.7,r:0,g:180,b:0},{val:2.4,r:0,g:200,b:0},{val:2.1,r:0,g:220,b:0},{val:1.8,r:0,g:230,b:0},{val:1.5,r:0,g:255,b:0},{val:1.2,r:60,g:255,b:60},{val:.9,r:100,g:255,b:100},{val:.6,r:140,g:255,b:140},{val:.3,r:160,g:255,b:160},{val:0,r:255,g:255,b:255}],precipitation:[{val:25,r:0,g:80,b:0},{val:20,r:0,g:120,b:0},{val:15,r:0,g:140,b:0},{val:10,r:0,g:160,b:0},{val:5,r:0,g:180,b:0},{val:4,r:0,g:200,b:0},{val:3.5,r:0,g:220,b:0},{val:3,r:0,g:230,b:0},{val:2.5,r:0,g:255,b:0},{val:2,r:60,g:255,b:60},{val:1.5,r:100,g:255,b:100},{val:1,r:140,g:255,b:140},{val:.5,r:160,g:255,b:160},{val:0,r:255,g:255,b:255}],precipitationArea:[{val:28,r:0,g:0,b:0},{val:27,r:0,g:0,b:15},{val:26,r:0,g:0,b:35},{val:25,r:0,g:0,b:55},{val:24,r:0,g:0,b:75},{val:23,r:0,g:0,b:95},{val:22,r:0,g:0,b:115},{val:21,r:0,g:0,b:135},{val:20,r:0,g:0,b:155},{val:19,r:0,g:0,b:175},{val:18,r:0,g:0,b:195},{val:17,r:0,g:0,b:215},{val:16,r:0,g:0,b:235},{val:15,r:0,g:0,b:255},{val:14,r:0,g:22,b:255},{val:13,r:0,g:42,b:255},{val:12,r:0,g:62,b:255},{val:11,r:0,g:82,b:255},{val:10,r:0,g:102,b:255},{val:9,r:0,g:122,b:255},{val:8,r:0,g:142,b:255},{val:7,r:0,g:162,b:255},{val:6,r:0,g:182,b:255},{val:5,r:0,g:202,b:255},{val:4,r:0,g:222,b:255},{val:3,r:0,g:242,b:255},{val:2.9,r:0,g:244,b:255},{val:2.8,r:0,g:246,b:255},{val:2.7,r:0,g:248,b:255},{val:2.6,r:0,g:248,b:255},{val:2.5,r:0,g:250,b:255},{val:2,r:50,g:255,b:255},{val:1,r:150,g:255,b:255},{val:.9,r:160,g:255,b:255},{val:.8,r:170,g:255,b:255},{val:.7,r:180,g:255,b:255},{val:.6,r:190,g:255,b:255},{val:.5,r:200,g:255,b:255},{val:.4,r:210,g:255,b:255},{val:.3,r:220,g:255,b:255},{val:.2,r:230,g:255,b:255},{val:.1,r:240,g:255,b:255},{val:0,r:255,g:255,b:255}]},MG.Config.bgTempOpacity=.3,MG.Config.nearest={radius:200,limit:24},MG.Config.highlightCityId=4248}(),function(){function e(e){this.message=e}var t="undefined"!=typeof exports?exports:"undefined"!=typeof self?self:$.global,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var i,r,o=String(t),a=0,s=n,c="";o.charAt(0|a)||(s="=",a%1);c+=s.charAt(63&i>>8-a%1*8)){if(r=o.charCodeAt(a+=.75),r>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");i=i<<8|r}return c}),t.atob||(t.atob=function(t){var i=String(t).replace(/[=]+$/,"");if(i.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,a=0,s=0,c="";o=i.charAt(s++);~o&&(r=a%4?64*r+o:o,a++%4)?c+=String.fromCharCode(255&r>>(-2*a&6)):0)o=n.indexOf(o);return c})}(),function(){function e(e){this.el=e;for(var t=e.className.replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<t.length;n++)i.call(this,t[n])}function t(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{get:n}):e.__defineGetter__(t,n)}if(!("undefined"==typeof window.Element||"classList"in document.documentElement)){var n=Array.prototype,i=n.push,r=n.splice,o=n.join;e.prototype={add:function(e){this.contains(e)||(i.call(this,e),this.el.className=this.toString())},contains:function(e){return this.el.className.indexOf(e)!==-1},item:function(e){return this[e]||null},remove:function(e){if(this.contains(e)){for(var t=0;t<this.length&&this[t]!==e;t++);r.call(this,t,1),this.el.className=this.toString()}},toString:function(){return o.call(this," ")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},window.DOMTokenList=e,t(Element.prototype,"classList",function(){return new e(this)})}}(),function(){function e(){l=!0,this.removeEventListener("DOMAttrModified",e,!1)}function t(e){return e.replace(s,function(e,t){return t.toUpperCase()})}function n(){var e={};return o.call(this.attributes,function(n){(r=n.name.match(a))&&(e[t(r[1])]=n.value)}),e}function i(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{get:n}):e.__defineGetter__(t,n)}var r,o=[].forEach,a=/^data-(.+)/,s=/\-([a-z])/gi,c=document.createElement("div"),l=!1;void 0==c.dataset&&(c.addEventListener("DOMAttrModified",e,!1),c.setAttribute("foo","bar"),i(Element.prototype,"dataset",l?function(){return this._datasetCache||(this._datasetCache=n.call(this)),this._datasetCache}:n),document.addEventListener("DOMAttrModified",function(e){delete e.target._datasetCache},!1))}(),function(e,t,n){"use strict";function i(){function i(e,t){this.scrollLeft=e,this.scrollTop=t}function r(e){return.5*(1-Math.cos(Math.PI*e))}function o(e){if("object"!=typeof e||null===e||e.behavior===n||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior not valid")}function a(n){var i,r,o;do n=n.parentNode,i=n===t.body,r=n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth,o="visible"===e.getComputedStyle(n,null).overflow;while(!i&&(!r||o));return i=r=o=null,n}function s(t){var n,i,o,a=d(),c=(a-t.startTime)/u;c=c>1?1:c,n=r(c),i=t.startX+(t.x-t.startX)*n,o=t.startY+(t.y-t.startY)*n,t.method.call(t.scrollable,i,o),i===t.x&&o===t.y||e.requestAnimationFrame(s.bind(e,t))}function c(n,r,o){var a,c,l,u,h=d();n===t.body?(a=e,c=e.scrollX||e.pageXOffset,l=e.scrollY||e.pageYOffset,u=f.scroll):(a=n,c=n.scrollLeft,l=n.scrollTop,u=i),s({scrollable:a,method:u,startTime:h,startX:c,startY:l,x:r,y:o})}if(!("scrollBehavior"in t.documentElement.style)){var l=e.HTMLElement||e.Element,u=468,f={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elScroll:l.prototype.scroll||i,scrollIntoView:l.prototype.scrollIntoView},d=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now;e.scroll=e.scrollTo=function(){return o(arguments[0])?void f.scroll.call(e,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):void c.call(e,t.body,~~arguments[0].left,~~arguments[0].top)},e.scrollBy=function(){return o(arguments[0])?void f.scrollBy.call(e,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):void c.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset))},l.prototype.scroll=l.prototype.scrollTo=function(){return o(arguments[0])?void f.elScroll.call(this,arguments[0].left||arguments[0],arguments[0].top||arguments[1]):void c.call(this,this,arguments[0].left,arguments[0].top)},l.prototype.scrollBy=function(){var e=arguments[0];"object"==typeof e?this.scroll({left:e.left+this.scrollLeft,top:e.top+this.scrollTop,behavior:e.behavior}):this.scroll(this.scrollLeft+e,this.scrollTop+arguments[1])},l.prototype.scrollIntoView=function(){if(o(arguments[0]))return void f.scrollIntoView.call(this,arguments[0]||!0);var n=a(this),i=n.getBoundingClientRect(),r=this.getBoundingClientRect();n!==t.body?(c.call(this,n,n.scrollLeft+r.left-i.left,n.scrollTop+r.top-i.top),e.scrollBy({left:i.left,top:i.top,behavior:"smooth"})):e.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}}}"object"==typeof exports?module.exports={polyfill:i}:i()}(window,document),!function(e,t){"use strict";function n(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function i(e){return parseFloat(e)||0}function r(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}function o(){function n(){e.pageXOffset!=d.left?(d.top=e.pageYOffset,d.left=e.pageXOffset,g.refreshAll()):e.pageYOffset!=d.top&&(d.top=e.pageYOffset,d.left=e.pageXOffset,h.forEach(function(e){return e._recalcPosition()}))}function i(){r=setInterval(function(){h.forEach(function(e){return e._fastCheck()})},500)}if(!u){u=!0,n(),e.addEventListener("scroll",n),e.addEventListener("resize",g.refreshAll),e.addEventListener("orientationchange",g.refreshAll);var r=void 0,o=void 0,a=void 0;"hidden"in t?(o="hidden",a="visibilitychange"):"webkitHidden"in t&&(o="webkitHidden",a="webkitvisibilitychange"),a?(t[o]||i(),t.addEventListener(a,function(){t[o]?clearInterval(r):i()})):i()}}var a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=!1,l=void 0!==e;l&&e.getComputedStyle?(a=t.createElement("div"),["","-webkit-","-moz-","-ms-"].some(function(e){try{a.style.position=e+"sticky"}catch(e){}return""!=a.style.position})&&(c=!0)):c=!0;var u=!1,f="undefined"!=typeof ShadowRoot,d={top:null,left:null},h=[],p=function(){function o(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),!(e instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(h.some(function(t){return t._node===e}))throw new Error("Stickyfill is already applied to this node");this._node=e,this._stickyMode=null,this._active=!1,h.push(this),this.refresh()}return s(o,[{key:"refresh",value:function(){if(!c&&!this._removed){this._active&&this._deactivate();var o=this._node,a=getComputedStyle(o),s={position:a.position,top:a.top,display:a.display,marginTop:a.marginTop,marginBottom:a.marginBottom,marginLeft:a.marginLeft,marginRight:a.marginRight,cssFloat:a.cssFloat};if(!isNaN(parseFloat(s.top))&&"table-cell"!=s.display&&"none"!=s.display){this._active=!0;var l=o.style.position;"sticky"!=a.position&&"-webkit-sticky"!=a.position||(o.style.position="static");var u=o.parentNode,d=f&&u instanceof ShadowRoot?u.host:u,h=o.getBoundingClientRect(),p=d.getBoundingClientRect(),g=getComputedStyle(d);this._parent={node:d,styles:{position:d.style.position},offsetHeight:d.offsetHeight},this._offsetToWindow={left:h.left,right:t.documentElement.clientWidth-h.right},this._offsetToParent={top:h.top-p.top-i(g.borderTopWidth),left:h.left-p.left-i(g.borderLeftWidth),right:-h.right+p.right-i(g.borderRightWidth)},this._styles={position:l,top:o.style.top,bottom:o.style.bottom,left:o.style.left,right:o.style.right,width:o.style.width,marginTop:o.style.marginTop,marginLeft:o.style.marginLeft,marginRight:o.style.marginRight};var v=i(s.top);this._limits={start:h.top+e.pageYOffset-v,end:p.top+e.pageYOffset+d.offsetHeight-i(g.borderBottomWidth)-o.offsetHeight-v-i(s.marginBottom)};var m=g.position;"absolute"!=m&&"relative"!=m&&(d.style.position="relative"),this._recalcPosition();var y=this._clone={};y.node=t.createElement("div"),n(y.node.style,{width:h.right-h.left+"px",height:h.bottom-h.top+"px",marginTop:s.marginTop,marginBottom:s.marginBottom,marginLeft:s.marginLeft,marginRight:s.marginRight,cssFloat:s.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),u.insertBefore(y.node,o),y.docOffsetTop=r(y.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var e=d.top<=this._limits.start?"start":d.top>=this._limits.end?"end":"middle";if(this._stickyMode!=e){switch(e){case"start":n(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":n(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":n(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=e}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(Math.abs(r(this._clone.node)-this._clone.docOffsetTop)>1||Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight)>1)&&this.refresh()}},{key:"_deactivate",value:function(){var e=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,n(this._node.style,this._styles),delete this._styles,h.some(function(t){return t!==e&&t._parent&&t._parent.node===e._parent.node})||n(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var e=this;this._deactivate(),h.some(function(t,n){if(t._node===e._node)return h.splice(n,1),!0}),this._removed=!0}}]),o}(),g={stickies:h,Sticky:p,forceSticky:function(){c=!1,o(),this.refreshAll()},addOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}for(var t=0;t<h.length;t++)if(h[t]._node===e)return h[t];return new p(e)},add:function(e){if(e instanceof HTMLElement&&(e=[e]),e.length){for(var t=[],n=function(n){var i=e[n];return i instanceof HTMLElement?h.some(function(e){if(e._node===i)return t.push(e),!0})?"continue":void t.push(new p(i)):(t.push(void 0),"continue")},i=0;i<e.length;i++)n(i);return t}},refreshAll:function(){h.forEach(function(e){return e.refresh()})},removeOne:function(e){if(!(e instanceof HTMLElement)){if(!e.length||!e[0])return;e=e[0]}h.some(function(t){if(t._node===e)return t.remove(),!0})},remove:function(e){if(e instanceof HTMLElement&&(e=[e]),e.length)for(var t=function(t){var n=e[t];h.some(function(e){if(e._node===n)return e.remove(),!0})},n=0;n<e.length;n++)t(n)},removeAll:function(){for(;h.length;)h[0].remove()}};c||o(),"undefined"!=typeof module&&module.exports?module.exports=g:l&&(e.Stickyfill=g)}(window,document),function(){function e(e){function t(t,n,i,r,o,a){for(;o>=0&&a>o;o+=e){var s=r?r[o]:o;i=n(i,t[s],s,t)}return i}return function(n,i,r,o){i=b(i,o,4);var a=!L(n)&&y.keys(n),s=(a||n).length,c=e>0?0:s-1;return arguments.length<3&&(r=n[a?a[c]:c],c+=e),t(n,i,r,a,c,s)}}function t(e){return function(t,n,i){n=w(n,i);for(var r=x(t),o=e>0?0:r-1;o>=0&&r>o;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(i,r,o){var a=0,s=x(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(u.call(i,a,s),y.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(i[o]===r)return o;return-1}}function i(e,t){var n=E.length,i=e.constructor,r=y.isFunction(i)&&i.prototype||s,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)o=E[n],o in e&&e[o]!==r[o]&&!y.contains(t,o)&&t.push(o)}var r=this,o=r._,a=Array.prototype,s=Object.prototype,c=Function.prototype,l=a.push,u=a.slice,f=s.toString,d=s.hasOwnProperty,h=Array.isArray,p=Object.keys,g=c.bind,v=Object.create,m=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return w(e,t,1/0)};var _=function(e,t){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],a=e(o),s=a.length,c=0;s>c;c++){var l=a[c];t&&void 0!==n[l]||(n[l]=o[l])}return n}},C=function(e){if(!y.isObject(e))return{};if(v)return v(e);m.prototype=e;var t=new m;return m.prototype=null,t},M=function(e){return function(t){return null==t?void 0:t[e]}},k=Math.pow(2,53)-1,x=M("length"),L=function(e){var t=x(e);return"number"==typeof t&&t>=0&&k>=t};y.each=y.forEach=function(e,t,n){t=b(t,n);var i,r;if(L(e))for(i=0,r=e.length;r>i;i++)t(e[i],i,e);else{var o=y.keys(e);for(i=0,r=o.length;r>i;i++)t(e[o[i]],o[i],e)}return e},y.map=y.collect=function(e,t,n){t=w(t,n);for(var i=!L(e)&&y.keys(e),r=(i||e).length,o=Array(r),a=0;r>a;a++){var s=i?i[a]:a;o[a]=t(e[s],s,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var i;return i=L(e)?y.findIndex(e,t,n):y.findKey(e,t,n),void 0!==i&&i!==-1?e[i]:void 0},y.filter=y.select=function(e,t,n){var i=[];return t=w(t,n),y.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},y.reject=function(e,t,n){return y.filter(e,y.negate(w(t)),n)},y.every=y.all=function(e,t,n){t=w(t,n);for(var i=!L(e)&&y.keys(e),r=(i||e).length,o=0;r>o;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,n){t=w(t,n);for(var i=!L(e)&&y.keys(e),r=(i||e).length,o=0;r>o;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,i){return L(e)||(e=y.values(e)),("number"!=typeof n||i)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=u.call(arguments,2),i=y.isFunction(t);return y.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(null==t&&null!=e){e=L(e)?e:y.values(e);for(var s=0,c=e.length;c>s;s++)i=e[s],i>o&&(o=i)}else t=w(t,n),y.each(e,function(e,n,i){r=t(e,n,i),(r>a||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},y.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t&&null!=e){e=L(e)?e:y.values(e);for(var s=0,c=e.length;c>s;s++)i=e[s],o>i&&(o=i)}else t=w(t,n),y.each(e,function(e,n,i){r=t(e,n,i),(a>r||1/0===r&&1/0===o)&&(o=e,a=r)});return o},y.shuffle=function(e){for(var t,n=L(e)?e:y.values(e),i=n.length,r=Array(i),o=0;i>o;o++)t=y.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},y.sample=function(e,t,n){return null==t||n?(L(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=w(t,n),y.pluck(y.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var G=function(e){return function(t,n,i){var r={};return n=w(n,i),y.each(t,function(i,o){var a=n(i,o,t);e(r,i,a)}),r}};y.groupBy=G(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=G(function(e,t,n){e[n]=t}),y.countBy=G(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?u.call(e):L(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:L(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=w(t,n);var i=[],r=[];return y.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},y.first=y.head=y.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var T=function(e,t,n,i){for(var r=[],o=0,a=i||0,s=x(e);s>a;a++){var c=e[a];if(L(c)&&(y.isArray(c)||y.isArguments(c))){t||(c=T(c,t,n));var l=0,u=c.length;for(r.length+=u;u>l;)r[o++]=c[l++]}else n||(r[o++]=c)}return r};y.flatten=function(e,t){return T(e,t,!1)},y.without=function(e){return y.difference(e,u.call(arguments,1))},y.uniq=y.unique=function(e,t,n,i){y.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],a=0,s=x(e);s>a;a++){var c=e[a],l=n?n(c,a,e):c;t?(a&&o===l||r.push(c),o=l):n?y.contains(o,l)||(o.push(l),r.push(c)):y.contains(r,c)||r.push(c)}return r},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=x(e);r>i;i++){var o=e[i];if(!y.contains(t,o)){for(var a=1;n>a&&y.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},y.difference=function(e){var t=T(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,x).length||0,n=Array(t),i=0;t>i;i++)n[i]=y.pluck(e,i);return n},y.object=function(e,t){for(var n={},i=0,r=x(e);r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,i){n=w(n,i,1);for(var r=n(t),o=0,a=x(e);a>o;){var s=Math.floor((o+a)/2);n(e[s])<r?o=s+1:a=s}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;i>o;o++,e+=n)r[o]=e;return r};var A=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=C(e.prototype),a=e.apply(o,r);return y.isObject(a)?a:o};y.bind=function(e,t){if(g&&e.bind===g)return g.apply(e,u.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),i=function(){return A(e,i,t,this,n.concat(u.call(arguments)))};return i},y.partial=function(e){var t=u.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),a=0;r>a;a++)o[a]=t[a]===y?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return A(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return y.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var c=function(){s=n.leading===!1?0:y.now(),a=null,o=e.apply(i,r),a||(i=r=null)};return function(){var l=y.now();s||n.leading!==!1||(s=l);var u=t-(l-s);return i=this,r=arguments,0>=u||u>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(c,u)),o}},y.debounce=function(e,t,n){var i,r,o,a,s,c=function(){var l=y.now()-a;t>l&&l>=0?i=setTimeout(c,t-l):(i=null,n||(s=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=y.now();var l=n&&!i;return i||(i=setTimeout(c,t)),l&&(s=e.apply(o,r),o=r=null),s}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},y.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},y.once=y.partial(y.before,2);var S=!{toString:null}.propertyIsEnumerable("toString"),E=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return S&&i(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return S&&i(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},y.mapObject=function(e,t,n){t=w(t,n);for(var i,r=y.keys(e),o=r.length,a={},s=0;o>s;s++)i=r[s],a[i]=t(e[i],i,e);return a},y.pairs=function(e){for(var t=y.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},y.invert=function(e){for(var t={},n=y.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=_(y.allKeys),y.extendOwn=y.assign=_(y.keys),y.findKey=function(e,t,n){t=w(t,n);for(var i,r=y.keys(e),o=0,a=r.length;a>o;o++)if(i=r[o],t(e[i],i,e))return i},y.pick=function(e,t,n){var i,r,o={},a=e;if(null==a)return o;y.isFunction(t)?(r=y.allKeys(a),i=b(t,n)):(r=T(arguments,!1,!1,1),i=function(e,t,n){return t in n},a=Object(a));for(var s=0,c=r.length;c>s;s++){var l=r[s],u=a[l];i(u,l,a)&&(o[l]=u)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var i=y.map(T(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(i,t)}}return y.pick(e,t,n)},y.defaults=_(y.allKeys,!0),y.create=function(e,t){var n=C(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;i>o;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0};var j=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var r=f.call(e);if(r!==f.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),o){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!j(e[c],t[c],n,i))return!1}else{var l,u=y.keys(e);if(c=u.length,y.keys(t).length!==c)return!1;for(;c--;)if(l=u[c],!y.has(t,l)||!j(e[l],t[l],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(e,t){return j(e,t)},y.isEmpty=function(e){return null==e||(L(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=h||function(e){return"[object Array]"===f.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&d.call(e,t)},y.noConflict=function(){return r._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=M,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var i=Array(Math.max(0,e));t=b(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=y.invert(I),$=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};y.escape=$(I),y.unescape=$(O),y.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),y.isFunction(i)?i.call(e):i};var P=0;y.uniqueId=function(e){var t=++P+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,H=function(e){return"\\"+q[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var i=RegExp([(t.escape||D).source,(t.interpolate||D).source,(t.evaluate||D).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,a,s){return o+=e.slice(r,s).replace(F,H),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var c=function(e){return a.call(this,e,y)},l=t.variable||"obj";return c.source="function("+l+"){\n"+o+"}",
c},y.chain=function(e){var t=y(e);return t._chain=!0,t};var R=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),R(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],R(this,n)}}),y.each(["concat","join","slice"],function(e){var t=a[e];y.prototype[e]=function(){return R(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),!function(e){function t(t){var n=t.length,i=typeof t;return!p(i)&&t!==e&&(!(1!==t.nodeType||!n)||(g(i)||0===n||"number"==typeof n&&n>0&&n-1 in t))}function n(e,t){var n,i;this.originalEvent=e,i=function(e,t){"preventDefault"===e?this[e]=function(){return this.defaultPrevented=!0,t[e]()}:"stopImmediatePropagation"===e?this[e]=function(){return this.immediatePropagationStopped=!0,t[e]()}:p(t[e])?this[e]=function(){return t[e]()}:this[e]=t[e]};for(n in e)(e[n]||"function"==typeof e[n])&&i.call(this,n,e);v.extend(this,t,{isImmediatePropagationStopped:function(){return!!this.immediatePropagationStopped}})}var i,r=e.$,o=e.jBone,a=/^<(\w+)\s*\/?>$/,s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,c=[].slice,l=[].splice,u=Object.keys,f=document,d=function(e){return"string"==typeof e},h=function(e){return e instanceof Object},p=function(e){return"[object Function]"==={}.toString.call(e)},g=function(e){return Array.isArray(e)},v=function(e,t){return new i.init(e,t)};v.noConflict=function(){return e.$=r,e.jBone=o,v},i=v.fn=v.prototype={init:function(e,t){var n,i,r,o;if(!e)return this;if(d(e)){if(i=a.exec(e))return this[0]=f.createElement(i[1]),this.length=1,h(t)&&this.attr(t),this;if((i=s.exec(e))&&i[1]){for(o=f.createDocumentFragment(),r=f.createElement("div"),r.innerHTML=e;r.lastChild;)o.appendChild(r.firstChild);return n=c.call(o.childNodes),v.merge(this,n)}if(v.isElement(t))return v(t).find(e);try{return n=f.querySelectorAll(e),v.merge(this,n)}catch(l){return this}}return e.nodeType?(this[0]=e,this.length=1,this):p(e)?e():e instanceof v?e:v.makeArray(e,this)},pop:[].pop,push:[].push,reverse:[].reverse,shift:[].shift,sort:[].sort,splice:[].splice,slice:[].slice,indexOf:[].indexOf,forEach:[].forEach,unshift:[].unshift,concat:[].concat,join:[].join,every:[].every,some:[].some,filter:[].filter,map:[].map,reduce:[].reduce,reduceRight:[].reduceRight,length:0},i.constructor=v,i.init.prototype=i,v.setId=function(t){var n=t.jid;t===e?n="window":void 0===t.jid&&(t.jid=n=++v._cache.jid),v._cache.events[n]||(v._cache.events[n]={})},v.getData=function(t){t=t instanceof v?t[0]:t;var n=t===e?"window":t.jid;return{jid:n,events:v._cache.events[n]}},v.isElement=function(e){return e&&e instanceof v||e instanceof HTMLElement||d(e)},v._cache={events:{},jid:0},i.pushStack=function(e){var t=v.merge(this.constructor(),e);return t},v.merge=function(e,t){for(var n=t.length,i=e.length,r=0;n>r;)e[i++]=t[r++];return e.length=i,e},v.contains=function(e,t){return e.contains(t)},v.extend=function(e){var t;return l.call(arguments,1).forEach(function(n){if(t=e,n)for(var i in n)t[i]=n[i]}),e},v.makeArray=function(e,n){var i=n||[];return null!==e&&(t(e)?v.merge(i,d(e)?[e]:e):i.push(e)),i},v.unique=function(e){if(null==e)return[];for(var t=[],n=0,i=e.length;i>n;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}return t},v.Event=function(e,t){var n,i;return e.type&&!t&&(t=e,e=e.type),n=e.split(".").splice(1).join("."),i=e.split(".")[0],e=f.createEvent("Event"),e.initEvent(i,!0,!0),v.extend(e,{namespace:n,isDefaultPrevented:function(){return e.defaultPrevented}},t)},v.event={add:function(e,t,n,i,r){v.setId(e);var o,a,s,c=function(t){v.event.dispatch.call(e,t)},l=v.getData(e).events;for(t=t.split(" "),a=t.length;a--;)s=t[a],o=s.split(".")[0],l[o]=l[o]||[],l[o].length?c=l[o][0].fn:e.addEventListener&&e.addEventListener(o,c,!1),l[o].push({namespace:s.split(".").splice(1).join("."),fn:c,selector:r,data:i,originfn:n})},remove:function(e,t,n,i){var r,o,a=function(e,t,i,r,o){var a;(n&&o.originfn===n||!n)&&(a=o.fn),e[t][i].fn===a&&(e[t].splice(i,1),e[t].length||r.removeEventListener(t,a))},s=v.getData(e).events;if(s)return!t&&s?u(s).forEach(function(t){for(o=s[t],r=o.length;r--;)a(s,t,r,e,o[r])}):void t.split(" ").forEach(function(t){var n,c=t.split(".")[0],l=t.split(".").splice(1).join(".");if(s[c])for(o=s[c],r=o.length;r--;)n=o[r],(!l||l&&n.namespace===l)&&(!i||i&&n.selector===i)&&a(s,c,r,e,n);else l&&u(s).forEach(function(t){for(o=s[t],r=o.length;r--;)n=o[r],n.namespace.split(".")[0]===l.split(".")[0]&&a(s,t,r,e,n)})})},trigger:function(e,t){var n=[];d(t)?n=t.split(" ").map(function(e){return v.Event(e)}):(t=t instanceof Event?t:v.Event(t),n=[t]),n.forEach(function(t){t.type&&e.dispatchEvent&&e.dispatchEvent(t)})},dispatch:function(e){for(var t,i,r,o,a,s=0,c=0,l=this,u=v.getData(l).events[e.type],f=u.length,d=[],h=[];f>s;s++)d.push(u[s]);for(s=0,f=d.length;f>s&&~u.indexOf(d[s])&&(!o||!o.isImmediatePropagationStopped());s++)if(i=null,a={},r=d[s],r.data&&(a.data=r.data),r.selector){if(~(h=v(l).find(r.selector)).indexOf(e.target)&&(i=e.target)||l!==e.target&&l.contains(e.target)){if(!i)for(t=h.length,c=0;t>c;c++)h[c]&&h[c].contains(e.target)&&(i=h[c]);if(!i)continue;a.currentTarget=i,o=new n(e,a),e.namespace&&e.namespace!==r.namespace||r.originfn.call(i,o)}}else o=new n(e,a),e.namespace&&e.namespace!==r.namespace||r.originfn.call(l,o)}},i.on=function(e,t,n,i){var r=this.length,o=0;if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!i)return this;for(;r>o;o++)v.event.add(this[o],e,i,n,t);return this},i.one=function(e){var t,n=arguments,i=0,r=this.length,o=c.call(n,1,n.length-1),a=c.call(n,-1)[0];for(t=function(t){var n=v(t);e.split(" ").forEach(function(e){var i=function(r){n.off(e,i),a.call(t,r)};n.on.apply(n,[e].concat(o,i))})};r>i;i++)t(this[i]);return this},i.trigger=function(e){var t=0,n=this.length;if(!e)return this;for(;n>t;t++)v.event.trigger(this[t],e);return this},i.off=function(e,t,n){var i=0,r=this.length;for(p(t)&&(n=t,t=void 0);r>i;i++)v.event.remove(this[i],e,n,t);return this},i.find=function(e){for(var t=[],n=0,i=this.length,r=function(n){p(n.querySelectorAll)&&[].forEach.call(n.querySelectorAll(e),function(e){t.push(e)})};i>n;n++)r(this[n]);return v(t)},i.get=function(e){return null!=e?0>e?this[e+this.length]:this[e]:c.call(this)},i.eq=function(e){return v(this[e])},i.parent=function(){for(var e,t=[],n=0,i=this.length;i>n;n++)!~t.indexOf(e=this[n].parentElement)&&e&&t.push(e);return v(t)},i.toArray=function(){return c.call(this)},i.is=function(){var e=arguments;return this.some(function(t){return t.tagName.toLowerCase()===e[0]})},i.has=function(){var e=arguments;return this.some(function(t){return t.querySelectorAll(e[0]).length})},i.add=function(e,t){return this.pushStack(v.unique(v.merge(this.get(),v(e,t))))},i.attr=function(e,t){var n,i=arguments,r=0,o=this.length;if(d(e)&&1===i.length)return this[0]&&this[0].getAttribute(e);for(2===i.length?n=function(n){n.setAttribute(e,t)}:h(e)&&(n=function(t){u(e).forEach(function(n){t.setAttribute(n,e[n])})});o>r;r++)n(this[r]);return this},i.removeAttr=function(e){for(var t=0,n=this.length;n>t;t++)this[t].removeAttribute(e);return this},i.val=function(e){var t=0,n=this.length;if(0===arguments.length)return this[0]&&this[0].value;for(;n>t;t++)this[t].value=e;return this},i.css=function(t,n){var i,r=arguments,o=0,a=this.length;if(d(t)&&1===r.length)return this[0]&&e.getComputedStyle(this[0])[t];for(2===r.length?i=function(e){e.style[t]=n}:h(t)&&(i=function(e){u(t).forEach(function(n){e.style[n]=t[n]})});a>o;o++)i(this[o]);return this},i.data=function(e,t){var n,i=arguments,r={},o=0,a=this.length,s=function(e,t,n){h(n)?(e.jdata=e.jdata||{},e.jdata[t]=n):e.dataset[t]=n},c=function(e){return"true"===e||"false"!==e&&e};if(0===i.length)return this[0].jdata&&(r=this[0].jdata),u(this[0].dataset).forEach(function(e){r[e]=c(this[0].dataset[e])},this),r;if(1===i.length&&d(e))return this[0]&&c(this[0].dataset[e]||this[0].jdata&&this[0].jdata[e]);for(1===i.length&&h(e)?n=function(t){u(e).forEach(function(n){s(t,n,e[n])})}:2===i.length&&(n=function(n){s(n,e,t)});a>o;o++)n(this[o]);return this},i.removeData=function(e){for(var t,n,i=0,r=this.length;r>i;i++)if(t=this[i].jdata,n=this[i].dataset,e)t&&t[e]&&delete t[e],delete n[e];else{for(e in t)delete t[e];for(e in n)delete n[e]}return this},i.addClass=function(e){for(var t=0,n=0,i=this.length,r=e?e.trim().split(/\s+/):[];i>t;t++)for(n=0,n=0;n<r.length;n++)this[t].classList.add(r[n]);return this},i.removeClass=function(e){for(var t=0,n=0,i=this.length,r=e?e.trim().split(/\s+/):[];i>t;t++)for(n=0,n=0;n<r.length;n++)this[t].classList.remove(r[n]);return this},i.toggleClass=function(e,t){var n=0,i=this.length,r="toggle";if(t===!0&&(r="add")||t===!1&&(r="remove"),e)for(;i>n;n++)this[n].classList[r](e);return this},i.hasClass=function(e){var t=0,n=this.length;if(e)for(;n>t;t++)if(this[t].classList.contains(e))return!0;return!1},i.html=function(e){var t,n=arguments;return 1===n.length&&void 0!==e?this.empty().append(e):0===n.length&&(t=this[0])?t.innerHTML:this},i.append=function(e){var t,n=0,i=this.length;for(d(e)&&s.exec(e)?e=v(e):h(e)||(e=document.createTextNode(e)),e=e instanceof v?e:v(e),t=function(t,n){e.forEach(function(e){n?t.appendChild(e.cloneNode(!0)):t.appendChild(e)})};i>n;n++)t(this[n],n);return this},i.appendTo=function(e){return v(e).append(this),this},i.empty=function(){for(var e,t=0,n=this.length;n>t;t++)for(e=this[t];e.lastChild;)e.removeChild(e.lastChild);return this},i.remove=function(){var e,t=0,n=this.length;for(this.off();n>t;t++)e=this[t],delete e.jdata,e.parentNode&&e.parentNode.removeChild(e);return this},"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=v:"function"==typeof define&&define.amd?(define(function(){return v}),e.jBone=e.$=v):"object"==typeof e&&"object"==typeof e.document&&(e.jBone=e.$=v)}(window),!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):t[e]=n()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,i=t.headers||{};i.Accept=i.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var r="function"==typeof FormData&&t.data instanceof FormData;t.crossOrigin||i[requestedWith]||(i[requestedWith]=defaultHeaders.requestedWith),i[contentType]||r||(i[contentType]=t.contentType||defaultHeaders.contentType);for(n in i)i.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,i[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,i){var r=uniqid++,o=e.jsonpCallback||"callback",a=e.jsonpCallbackName||reqwest.getcallbackPrefix(r),s=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),c=i.match(s),l=doc.createElement("script"),u=0,f=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return c?"?"===c[3]?i=i.replace(s,"$1="+a):a=c[3]:i=urlappend(i,o+"="+a),context[a]=generalCallback,l.type="text/javascript",l.src=i,l.async=!0,"undefined"==typeof l.onreadystatechange||f||(l.htmlFor=l.id="_reqwest_"+r),l.onload=l.onreadystatechange=function(){return!(l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||u)&&(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),void(u=1))},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),u=1}}}function getRequest(e,t){var n,i=this.o,r=(i.method||"GET").toUpperCase(),o="string"==typeof i?i:i.url,a=i.processData!==!1&&i.data&&"string"!=typeof i.data?reqwest.toQueryString(i.data):i.data||null,s=!1;return"jsonp"!=i.type&&"GET"!=r||!a||(o=urlappend(o,a),a=null),"jsonp"==i.type?handleJsonp(i,e,t,o):(n=i.xhr&&i.xhr(i)||xhr(i),n.open(r,o,i.async!==!1),setHeaders(n,i),setCredentials(n,i),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),i.before&&i.before(n),s?setTimeout(function(){n.send(a)},200):n.send(a),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;try{var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,i,r,o,a=e.name,s=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(a,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),i=/radio/i.test(e.type),r=e.value,(!(n||i)||e.checked)&&t(a,normalize(n&&""===r?"on":r)));break;case"textarea":t(a,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&c(e.options[o])}}function eachFormElement(){var e,t,n=this,i=function(e,t){var i,r,o;for(i=0;i<t.length;i++)for(o=e[byTag](t[i]),r=0;r<o.length;r++)serial(o[r],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),i(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,i){var r,o,a,s=/\[\]$/;if(isArray(t))for(o=0;t&&o<t.length;o++)a=t[o],n||s.test(e)?i(e,a):buildParams(e+"["+("object"==typeof a?o:"")+"]",a,n,i);else if(t&&"[object Object]"===t.toString())for(r in t)buildParams(e+"["+r+"]",t[r],n,i);else i(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{var xhr2="xhr2";XHR2=require(xhr2)}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},"catch":function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,i,r=t||!1,o=[],a=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=a(e)+"="+a(t)};if(isArray(e))for(i=0;e&&i<e.length;i++)s(e[i].name,e[i].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],r,s);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest}),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.inView=t():e.inView=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=n(2),o=i(r);e.exports=o["default"]},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=i(r),a=n(3),s=i(a),c=n(4),l=function(){if("undefined"!=typeof window){var e=100,t=["scroll","resize","load"],n={history:[]},i={offset:{},threshold:0,test:c.inViewport},r=(0,o["default"])(function(){n.history.forEach(function(e){n[e].check()})},e);t.forEach(function(e){return addEventListener(e,r)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(r).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var a=function(e){if("string"==typeof e){var t=[].slice.call(document.querySelectorAll(e));return n.history.indexOf(e)>-1?n[e].elements=t:(n[e]=(0,s["default"])(t,i),n.history.push(e)),n[e]}};return a.offset=function(e){if(void 0===e)return i.offset;var t=function(e){return"number"==typeof e};return["top","right","bottom","left"].forEach(t(e)?function(t){return i.offset[t]=e}:function(n){return t(e[n])?i.offset[n]=e[n]:null}),i.offset},a.threshold=function(e){return"number"==typeof e&&e>=0&&e<=1?i.threshold=e:i.threshold},a.test=function(e){return"function"==typeof e?i.test=e:i.test},a.is=function(e){return i.test(e,i)},a.offset(0),a}};t["default"]=l()},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,i){n(this,e),this.options=i,this.elements=t,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return i(e,[{key:"check",value:function(){var e=this;return this.elements.forEach(function(t){var n=e.options.test(t,e.options),i=e.current.indexOf(t),r=i>-1,o=n&&!r,a=!n&&r;o&&(e.current.push(t),e.emit("enter",t)),a&&(e.current.splice(i,1),e.emit("exit",t))}),this}},{key:"on",value:function(e,t){return this.handlers[e].push(t),this}},{key:"once",value:function(e,t){return this.singles[e].unshift(t),this}},{key:"emit",value:function(e,t){for(;this.singles[e].length;)this.singles[e].pop()(t);for(var n=this.handlers[e].length;--n>-1;)this.handlers[e][n](t);return this}}]),e}();t["default"]=function(e,t){return new r(e,t)}},function(e,t){"use strict";function n(e,t){var n=e.getBoundingClientRect(),i=n.top,r=n.right,o=n.bottom,a=n.left,s=n.width,c=n.height,l={t:o,r:window.innerWidth-a,b:window.innerHeight-i,l:r},u={x:t.threshold*s,y:t.threshold*c};return l.t>t.offset.top+u.y&&l.r>t.offset.right+u.x&&l.b>t.offset.bottom+u.y&&l.l>t.offset.left+u.x}Object.defineProperty(t,"__esModule",{value:!0}),t.inViewport=n},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var i=n(5),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t,n){function i(e,t,n){function i(t){var n=y,i=b;return y=b=void 0,k=t,_=e.apply(i,n)}function u(e){return k=e,C=setTimeout(h,t),x?i(e):_}function f(e){var n=e-M,i=e-k,r=t-n;return L?l(r,w-i):r}function d(e){var n=e-M,i=e-k;return void 0===M||n>=t||n<0||L&&i>=w}function h(){var e=o();return d(e)?p(e):void(C=setTimeout(h,f(e)))}function p(e){return C=void 0,G&&y?i(e):(y=b=void 0,_)}function g(){void 0!==C&&clearTimeout(C),k=0,y=M=b=C=void 0}function v(){return void 0===C?_:p(o())}function m(){var e=o(),n=d(e);if(y=arguments,b=this,M=e,n){if(void 0===C)return u(M);if(L)return C=setTimeout(h,t),i(M)}return void 0===C&&(C=setTimeout(h,t)),_}var y,b,w,_,C,M,k=0,x=!1,L=!1,G=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,r(n)&&(x=!!n.leading,L="maxWait"in n,w=L?c(a(n.maxWait)||0,t):w,G="trailing"in n?!!n.trailing:G),m.cancel=g,m.flush=v,m}var r=n(1),o=n(8),a=n(10),s="Expected a function",c=Math.max,l=Math.min;e.exports=i},function(e,t,n){var i=n(6),r=function(){return i.Date.now()};e.exports=r},function(e,t,n){function i(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(a);return o(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:i,maxWait:t,trailing:s})}var r=n(7),o=n(1),a="Expected a function";e.exports=i},function(e,t){function n(e){return e}e.exports=n}])}),jBone.ajax=reqwest.compat,jBone.uProxy=function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,[].concat(n,Array.prototype.slice.call(arguments)))}},function(e){"use strict";var t,n,i={interval:100,sensitivity:6,timeout:0},r=0,o=function(e){t=e.pageX,n=e.pageY},a=function(e,i,r,s){return Math.sqrt((r.pX-t)*(r.pX-t)+(r.pY-n)*(r.pY-n))<s.sensitivity?(i.off(r.event,o),delete r.timeoutId,r.isActive=!0,e.pageX=t,e.pageY=n,delete r.pX,delete r.pY,s.over.apply(i[0],[e])):(r.pX=t,r.pY=n,r.timeoutId=setTimeout(function(){a(e,i,r,s)},s.interval),void 0)},s=function(e,t,n,i){return delete t.data("hoverIntent")[n.id],i.apply(t[0],[e])};jBone.fn.hoverIntent=function(t,n,c){var l=r++,u=_.extend({},i);_.isObject(t)?(u=_.extend(u,t),_.isFunction(u.out)||(u.out=u.over)):u=_.isFunction(n)?_.extend(u,{over:t,out:n,selector:c}):_.extend(u,{over:t,out:t,selector:n});var f=function(t){var n=_.extend({},t),i=e(this),r=i.data("hoverIntent");r||i.data("hoverIntent",r={});var c=r[l];c||(r[l]=c={id:l}),c.timeoutId&&(c.timeoutId=clearTimeout(c.timeoutId));var f=c.event="mousemove.hoverIntent.hoverIntent"+l;if("mouseenter"===t.type){if(c.isActive)return;c.pX=n.pageX,c.pY=n.pageY,i.off(f,o).on(f,o),c.timeoutId=setTimeout(function(){a(n,i,c,u)},u.interval)}else{if(!c.isActive)return;i.off(f,o),c.timeoutId=setTimeout(function(){s(n,i,c,u.out)},u.timeout)}};return this.on("mouseenter.hoverIntent",u.selector,f).on("mouseleave.hoverIntent",u.selector,f)}}(jBone),function(){var e=function(){function e(){var e=document.getElementById("pollenArticle");"ru"!==MG.Config.domain&&e&&(e.style.display="none")}function t(){var e=document.querySelector(".pollen-modal"),t=document.querySelector(".pollen-modal-bg"),n=[].slice.call(document.querySelectorAll(".pollen-btn")),r=function(){document.body.classList.add("stop_scroll"),e.style.display="block",t.style.display="block",document.addEventListener("click",o)},o=function(e){e.target===t&&document.body.classList.add("stop_scroll")};if(!localStorage.hidePollen&&MG.Config.full_screen&&MG.Config.full_screen.status&&r(),e){var a=function(){document.body.classList.remove("stop_scroll");var n=this.getAttribute("data-answer");localStorage.hidePollen=n,"no"!==n&&"10-days"!==MG.Config.page||(t.classList.add("hide-fadeOut"),setTimeout(function(){t.classList.add("hide"),t.classList.remove("hide-fadeOut")},300)),e.classList.remove("fadeInUp"),e.classList.add("fadeOut"),e.classList.add("hide"),"yes"===n?(MG.sendMetrikaUserParams({allergy:!0}),"10-days"===MG.Config.page?i():(document.body.style.cursor="wait",location.href=MG.Config.city.info[MG.Config.lang].url+"10-days/#allergy")):MG.sendMetrikaUserParams({allergy:!1})};n.forEach(function(e){e.addEventListener("click",a)})}}function n(){var e=document.querySelector(".navteaser_birch");e&&"10-days"===MG.Config.page&&e.addEventListener("click",function(e){e.preventDefault(),i()})}function i(){location.hash="allergy";var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.querySelector("[data-widget-id = allergy]");t.classList.add("widget_active"),setTimeout(function(){t.classList.remove("widget_active"),t.classList.add("widget_unactive")},500);var n=e+t.getBoundingClientRect().top-90;window.scrollTo({top:n,behavior:"smooth"})}var r=navigator.userAgent,o=!0,a="",s=6e5,c=!1,l="",u=0,f=location.hostname.replace(/^www\./,""),d="_gac";"beta.gismeteo.ru"===f&&(d="_bgac"),f=".gismeteo."+MG.Config.domain;var h=function(){for(var e=null,t=[{regExp:new RegExp("^[/]$","i"),categories:["main"]},{regExp:new RegExp("/(weather|nowcast)[-][^/]+/$","i"),categories:["today","nowcast"]},{regExp:new RegExp("/weather[-][^/]+/([^/]+)/","i"),categories:["3-days","10-days","2-weeks","gm","month","now","tomorrow","weekend","weekly","3-day","4-day","5-day","6-day","7-day","8-day","9-day","10-day","new-year"]},{regExp:new RegExp("^/(maps|news|informers|soft|diary)/.*","i"),categories:["maps","news","informers","soft","diary"]}],n=0;n<t.length;n++)if(e=location.pathname.match(t[n].regExp)){e=t[n].categories.indexOf(e[1])!==-1?e[1]:t[n].categories[0];break}return e},p=function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var n in t)if(void 0!==e.style[t[n]]){l=t[n].replace("Perspective","").toLowerCase();break}return l},g={windows:/Windows/gi.test(r),windows7:/Windows NT 6.1/gi.test(r),linux:/Linux/gi.test(r),mac:/Macintosh/gi.test(r),android:/Android/gi.test(r),wp:/Windows Phone/gi.test(r),meego:/MeeGo/gi.test(r),desktop:!/mobile|phone|android|iphone|ipad|meego/gi.test(r)},v="ontouchstart"in window,m={is_o:/presto/gi.test(r),is_ie9:/msie 9.*/gi.test(r),is_ie:/msie|trident/gi.test(r),is_ff:/firefox/gi.test(r),is_safari:/^((?!chrome|android).)*safari/i.test(r)},y=function(e){if(!c){c=!0;var t=function(){o&&(a=new Date)},n=function(){return""!==a&&(!!navigator.onLine&&void((new Date).getTime()-a.getTime()>s&&o&&(MG.Storage._setItem("autoRefreshPage","1"),document.location=document.location.href)))};window.removeEventListener("blur",t),window.addEventListener("blur",t),window.removeEventListener("focus",n),window.addEventListener("focus",n)}},b=function(){var e=$(".ue-btn, #ue-btn");e&&e.on("click",function(){if("undefined"==typeof UE){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.userecho.com/js/widget-1.4.gz.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}var n={func:function(){"object"==typeof UE&&(UE.Popin.show(),clearInterval(this.timerId))},timerId:setInterval(function(){n.func.call(n)},100)}})},w=function(e,t){var n=e.getAttribute("data-src"),i=e.getAttribute("data-set-type");n&&("src"===i?$("<img>").attr("src",n).on("load",function(){e.setAttribute("src",n),u++,t&&"function"==typeof t&&t(e)}):$("<img>").attr("src",n).on("load",function(){e.style.backgroundImage='url("'+n+'")',u++,t&&"function"==typeof t&&t(e)}))},C=function(e){function t(e){e.forEach(function(e){var t=e.getAttribute("data-width"),n=e.getAttribute("data-height"),i=e.getAttribute("data-background");setTimeout(function(){e.setAttribute("style","background-image: url("+i+");width: "+t+"px;height: "+n+"px;"),e.removeAttribute("data-width"),e.removeAttribute("data-height"),e.removeAttribute("data-background"),e.classList.add("fadeIn")},150)})}var n=function(){_.each($(".lazyload_condition[data-max-width]"),function(t){var n=t.getAttribute("data-max-width");this.innerWidth<n&&(w(t,e),$(this).off("resize.lazyload"))},this)};_.each($(".lazyload"),function(t){w(t,e)}),n(this),$(window).on("resize.lazyload",n);var i=[].slice.call(document.querySelectorAll(".readmore_img"));inView(".readmore_img").once("enter",function(){i.forEach(function(e){var t=e.getAttribute("data-background");setTimeout(function(){e.setAttribute("style","background-image: url("+t+");"),e.removeAttribute("data-background"),e.classList.add("fadeIn")},150);
})});var r="media_feed--temp",o=".media_feed",a=[].slice.call(document.querySelectorAll(o));a&&a.forEach(function(e){var n=[].slice.call(e.querySelectorAll("[data-background]"));inView(o).on("enter",function(){inView.is(e)&&e.classList.contains(r)&&(t(n),e.classList.remove(r))})})},M=function(e){_.each($(".lazyload_condition[data-max-width]"),function(t){w(t,e)},this)},k=function(){return u},x=function(e,t){var n=e,i=t,r=document.getElementsByTagName(n);if(0!==r.length){for(var o=0,a=0;a<r.length;a++)r[a].getAttribute(i)&&o++;var s=function(e){var t=e.getBoundingClientRect(),n=document.documentElement.clientHeight,i=t.top>0&&t.top<n,r=t.bottom<n&&t.bottom>0;return i||r},c=function(){try{for(var e=0;e<r.length;e++){var t=r[e],n=t.getAttribute(i);if(null!=n&&""!==n&&s(t)){var a=new Image;a.src=n,t.removeAttribute(i),o--}}0===o&&$(window).off("scroll.trackingPixel",c)}catch(l){$(window).off("scroll.trackingPixel",c)}};c(),$(window).on("scroll.trackingPixel",c)}},L=function(e,t){if(!e.length)return{};var n=e[0].currentStyle||window.getComputedStyle(e[0]);return"height"===t&&"auto"===n.height&&(n=window.getComputedStyle(e[0])),n},G=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},T=function(){if("object"===(typeof arguments[0]).toLowerCase()){var e=arguments[0];e.type||"log";if(e.noglobalgroup!==!0,e.group)for(var t in e.group.items)T(e.group.items[t].group?e.group.items[t]:{noglobalgroup:!0,txt:e.group.items[t]});else if(e.items)for(t in e.items)T(e.items[t].group?e.items[t]:{noglobalgroup:!0,txt:e.items[t]});e.noglobalgroup!==!0}},A=function(){"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/pwasw.js")["catch"](function(e){})})};return b(),p(),A(),e(),t(),n(),Stickyfill.add(document.querySelectorAll(".js_sticky")),{os:g,browsers:m,cssPrefix:l,isTouch:v,activePage:h,log:T,reloadPage:y,lazyLoad:C,lazyLoadForce:M,lazyCount:k,getStyle:L,isMobile:G,trackingPixel:x}};MG=MG||{},MG.Utils=e()}(),function(){var e=function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function t(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var n,i={},r=!1,o="allKeys",a=[],s=function(){var e;try{e="localStorage"in window&&null!==window.localStorage}catch(t){e=!1}return e}(),c=function(){var e;a=[];for(e in n)a.push(e);n[o]=JSON.stringify(a)},l=function(){if(r===!1){var e=g(o);null===e?a=[]:"[object Array]"!==Object.prototype.toString.call(e)?c():a=e,r=!0}},u=function(){return a.slice(0)},f=function(e){var t,n,i=a.length,r=[],o=new RegExp(e,"g");for(t=0;t<i;t++)n=a[t],o.test(n)===!0&&r.push(n);return r},d=function(e,t){try{a.indexOf(e)===-1&&(a.push(e),n[o]=JSON.stringify(a)),n[e]=t}catch(i){m()}},h=function(e){var t=n[e];return void 0===t&&(t=null),t},p=function(e,t){d(e,JSON.stringify(t))},g=function(e){var t=JSON.parse(h(e));return void 0===t&&(t=null),t},v=function(e){var t=a.indexOf(e);t!==-1&&(n===i?delete n[e]:n.removeItem(e),a.splice(t,1),n[o]=JSON.stringify(a))},m=function(){n===i?(i={},n=i):n.clear(),a=[]},y=function(e,t,n,i,r,o){var a=[e+"="+t];n&&("string"==typeof n?a.push("expires="+n):(n=n||8760,a.push("expires="+_(n)))),a.push("path=/"),a.push("domain="+location.hostname),o&&a.push("secure"),document.cookie=a.join(";")},b=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):""},w=function(e,t,n){t=void 0!==t?t:"/",n=void 0!==n?n:location.hostname;var i=this._getItem(e);""!==i&&null!==i&&void 0!==i&&this._setItem(e,"",new Date(0).toUTCString(),t,n)},_=function(e){if("NaN"===parseInt(e))return"";var t=new Date;return t.setTime(t.getTime()+60*parseInt(e)*60*1e3),t.toUTCString()};return n=s===!0?localStorage:i,l(),{storageHasNativeSupport:s,setItem:d,getItem:h,_setItem:y,_getItem:b,_removeItem:w,setObject:p,getObject:g,removeItem:v,findKeys:f,getKeys:u,guid:t,clear:m}};MG=MG||{},MG.Storage=e()}.call(this),function(){var e=function(){function e(e,t,n,i){var r,o,a=this,s=/\\?(.?)/gi,c=function(e,t){return o[e]?o[e]():t},l=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e};o={d:function(){return l(o.j(),2)},D:function(){return MG.Dictionary.dayShort[o.w()]},j:function(){return r.getDate()},l:function(){return MG.Dictionary.day[o.w()]},N:function(){return o.w()||7},S:function(){var e=o.j(),t=e%10;return t<=3&&1===parseInt(e%100/10,10)&&(t=0),["st","nd","rd"][t-1]||"th"},w:function(){return r.getDay()},z:function(){var e=new Date(o.Y(),o.n()-1,o.j()),t=new Date(o.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(o.Y(),o.n()-1,o.j()-o.N()+3),t=new Date(e.getFullYear(),0,4);return l(1+Math.round((e-t)/864e5/7),2)},F:function(){return MG.Dictionary.month_r[o.n()]},m:function(){return l(o.n()+1,2)},M:function(){return MG.Dictionary.monthShort_r[o.n()]},n:function(){return r.getMonth()},t:function(){return new Date(o.Y(),o.n(),0).getDate()},L:function(){var e=o.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=o.n(),t=o.W(),n=o.Y();return n+(12===e&&t<9?1:1===e&&t>9?-1:0)},Y:function(){return r.getFullYear()},y:function(){return o.Y().toString().slice(-2)},a:function(){return r.getHours()>11?"pm":"am"},A:function(){return o.a().toUpperCase()},B:function(){var e=3600*r.getUTCHours(),t=60*r.getUTCMinutes(),n=r.getUTCSeconds();return l(Math.floor((e+t+n+3600)/86.4)%1e3,3)},g:function(){return o.G()%12||12},G:function(){return r.getHours()},h:function(){return l(o.g(),2)},H:function(){return l(o.G(),2)},i:function(){return l(r.getMinutes(),2)},s:function(){return l(r.getSeconds(),2)},u:function(){return l(1e3*r.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){var e=new Date(o.Y(),0),t=Date.UTC(o.Y(),0),n=new Date(o.Y(),6),i=Date.UTC(o.Y(),6);return e-t!==n-i?1:0},O:function(){var e=r.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+l(100*Math.floor(t/60)+t%60,4)},P:function(){var e=o.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-r.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(s,c)},r:function(){return"D, d M Y H:i:s O".replace(s,c)},U:function(){return r/1e3|0}},t=t instanceof Date?t:new Date(t.replace(/-/g,"/")),this.date=function(e,t){return a=this,r=void 0===t?new Date:t instanceof Date?t:new Date(1e3*t),e.replace(s,c)};var u=this.date(e,t),f="",d=null;return""!==n&&$(n).html(u),i&&(clearInterval(d),d=setInterval(function(){t=new Date(t.setTime(t.getTime()+1e3)),f=a.date(e,t),""!==n&&u!==f&&(u=f,$(n).html(f))},1e3)),this.date(e,t)}function t(){var e="",t=MG.Config.staticServers;return t instanceof Array&&"string"==typeof t[0]&&(e=Math.floor(Math.random()*t.length),e=t[e]),e}function n(){$("a.item_lang").on("click",function(e){e.preventDefault();var t=$(this).attr("data-lang")||null;t&&(MG.Storage._setItem("lang",t,87600),location.href=$(this).attr("href"))})}function i(e){var t=e?e.split("?")[1]:window.location.search.slice(1),n={};if(t){t=t.split("#")[0];for(var i=t.split("&"),r=0;r<i.length;r++){var o=i[r].split("="),a=void 0,s=o[0].replace(/\[\d*\]/,function(e){return a=e.slice(1,-1),""}),c="undefined"==typeof o[1]?"":o[1];s=s.toLowerCase(),c=c.toLowerCase(),n[s]?("string"==typeof n[s]&&(n[s]=[n[s]]),"undefined"==typeof a?n[s].push(c):n[s][a]=c):n[s]=c}}return n}var r=function(e,t){var n=Date.parse(t),i=e.split(" "),r=parseInt(i[0],10),o=0;switch(i[1]){case"day":o=24*r*60*60*1e3;break;case"hour":o=60*r*60*1e3;break;case"minute":o=60*r*1e3;break;case"seconds":o=1e3*r}return new Date(n+o)},o=function(e){var t=new Date(e);return 0===t.getDay()||6===t.getDay()},a=function(e,t){var n=[2,0,1,1,1,2];return t[e%100>4&&e%100<20?2:n[Math.min(e%10,5)]]},s=function(e){return e.substr(0,1).toUpperCase()+e.substr(1)},c=function(){var e=$(".js_dropmenu");_.each(e,function(e){var t=$(e).find(".js_drop_trig"),n=$(e).find(".js_drop_list");t.hasClass("opened")&&(t.removeClass("opened"),n.removeClass("opened"))})},l=function(){var e=$(".js_dropmenu"),t=$(".js_drop_list");e.on("click.dropmenu",".js_drop_trig",function(e){return(!e.originalEvent.isTrusted||!$(this).parent().hasClass("js-hover"))&&(e.stopImmediatePropagation(),t=$(this).parent().find(".js_drop_list"),void($(this).hasClass("opened")?($(this).removeClass("opened"),t.removeClass("opened")):($(document).trigger("click.menu"),$(document).trigger("click.search"),$(this).addClass("opened"),t.addClass("opened"))))}),$(".js_dropmenu.js-hover").hoverIntent({sensitivity:2,interval:100,timeout:0,over:function(){var e=$(this).find(".js_drop_trig"),t=$(this).find(".js_drop_list");e.hasClass("opened")||(e.addClass("opened"),t.addClass("opened"))},out:function(){var e=$(this).find(".js_drop_trig"),t=$(this).find(".js_drop_list");e.removeClass("opened"),t.removeClass("opened")}}),$(document).on("click.menu",function(e){c()}),$(document).on("keyup",function(e){27===e.keyCode&&c()})},u=function(e,t,n){n="string"==typeof n&&MG.Config.gradients[n]?n:"temperature";for(var i,r,o=0,a=MG.Config.gradients[n],s=a.length,c=!1;o<s&&!c;o++)c=e>a[o].val,i=a[o],r=o;if(0===r&&(r=1),i={from:i.val,to:a[r-1].val,min:{r:i.r,g:i.g,b:i.b},max:{r:a[r-1].r,g:a[r-1].g,b:a[r-1].b}},i.to===i.from)return"rgba("+i.min.r+", "+i.min.g+", "+i.min.b+","+t+")";var l=(e-i.from)/(i.to-i.from);return"rgba("+~~((i.max.r-i.min.r)*l+i.min.r)+", "+~~((i.max.g-i.min.g)*l+i.min.g)+", "+~~((i.max.b-i.min.b)*l+i.min.b)+","+t+")"},f=function(e,t,n){e=e.match(/\d+/g),t=t.match(/\d+/g);var i=[];return i[0]=Math.floor((1*e[0]+1*t[0])/2),i[1]=Math.floor((1*e[1]+1*t[1])/2),i[2]=Math.floor((1*e[2]+1*t[2])/2),i[3]=n,"rgba("+i.join(",")+")"},d=function(e,t){return e=Math.round(parseFloat(e)),isNaN(e)?"":("F"!==t&&(e>0&&(e="+"+e),e<0&&(e=""+e*-1)),e)},h=function(){var e=location.pathname.replace(new RegExp("^/"+MG.Config.additionalLang+"/"),"").replace(/^\/|\/$/g,"").split("/"),t="";return e.length>=2&&(t=e.pop()),t+=location.hash,"countries"!==MG.Config.page&&"map"!==MG.Config.page&&"page"!==MG.Config.page||(t=""),t},p=function(e){var t=h(),n=(e.info?e.info[MG.Config.lang].url:e.url)+(t?t+"/":"");return"map"===MG.Config.page?n=n.replace("weather","nowcast"):"climate"===MG.Config.page&&(n=n.replace("weather","climate")),n},g=function(e,t){for(var n=0,i=0,r=e.length;i<r;i++)if(t<=e[i]){n=e[i];break}return n};return n(),{formatDate:e,modifyDate:r,isWeekend:o,inclemenation:a,upFirst:s,pureTemp:d,dropDownMenu:l,getStaticServer:t,color:u,avgColor:f,getPath:h,getUrl:p,closestItemInArray:g,getAllUrlParams:i}};MG=MG||{},MG.Helper=e()}.call(this),function(){var e={divId:"tooltip-layer",mouseX:null,mouseY:null,zIndexLayer:1e7,text:null,title:null,xOffset:15,yOffset:15};e.reset=function(){this.xOffset=15,this.yOffset=15,this.layer=null,this.zIndex=0,this.visible=!1,this.mTop=0,this.mTopEl=document.getElementsByClassName("header"),this.mTopEl&&(this.mTop=parseInt(this.mTopEl[0].style.marginTop?this.mTopEl[0].style.marginTop:0))},e.init=function(){if(!("ontouchstart"in window||navigator.maxTouchPoint)){for(var t=document.querySelectorAll(".tooltip"),n=t.length,i=0;i<n;i++)t[i].addEventListener("mouseover",function(){var t,n;this.hasAttribute("data-title")&&(t=this.getAttribute("data-title")),this.hasAttribute("data-text")&&(n=this.getAttribute("data-text")),e.tooltip(n,t)}),t[i].addEventListener("mouseout",function(){e.hideTip()});t=null,this.captureMouse()}},e.tooltip=function(e,t){if(!e&!t)return!1;if(this.reset(),this.title=t,this.text=e,!(this.layer=self.document.getElementById(this.divId))){var n=document.createElement("div");n.id=this.divId,n.style.visibility="hidden",n.style["z-index"]="10000",n.style.position="absolute",document.body.appendChild(n),this.layer=n}this.mouseX&&this.mouseY&&(this.assemble(this.getMarkup(this.text,this.title)),this.position(),this.layer.style.visibility="visible",this.visible=!0)},e.captureMouse=function(){document.onmousemove=e.mouseMoveHandler.bind(this)},e.mouseMoveHandler=function(e){e||(e=event),this.mouseX=this.getMouseX(e),this.mouseY=this.getMouseY(e),this.visible&&this.position()},e.getMouseX=function(e){return e.pageX?e.pageX:e.clientX?e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft):this.mouseX},e.getMouseY=function(e){return e.pageY?e.pageY:e.clientY?e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop):this.mouseY},e.hideTip=function(){this.visible&&this.layer&&(this.layer.style.visibility="hidden",this.visible=!1)},e.getMarkup=function(e,t){var n='<div class="tooltip-container">';return t&&(n+='<div class="tooltip-title">'+t+"</div>"),e&&(n+='<div class="tooltip-content">'+e+"</div>"),n+="</div>"},e.position=function(){this.layer.style.left=this.getXPlacement()+"px",this.layer.style.top=this.getYPlacement()+"px"},e.getXPlacement=function(){var e=this.mouseX+parseInt(this.xOffset),t=parseInt(document.getElementById(this.divId).clientWidth);return e+t+this.xOffset>window.innerWidth&&(e-=e+t+this.xOffset-window.innerWidth),e},e.getYPlacement=function(){var e=this.mouseY+parseInt(this.yOffset);e-=this.mTop;var t=parseInt(document.getElementById(this.divId).scrollHeight);return e+t+this.yOffset>window.innerHeight+window.scrollY&&(e-=e+t+this.yOffset-window.innerHeight-window.scrollY),e},e.assemble=function(e){"undefined"!=typeof this.layer.innerHTML&&(this.layer.innerHTML='<div style="position: absolute; top: 0; left: 0; z-index: '+(this.zIndex+1)+';">'+e+"</div>")},e.init()}(),MG.Userstat=MG.Userstat||function(){function e(){return this instanceof e?void(this.saved||(this.saved=!0,this._read(),this._save())):new e}return e.domain=this.location.hostname,e.parent=this,e.document=this.document,e.prototype={saved:!1,viewed:0,visited:0,updated:null,_read:function(){var t=0,n=e.document.cookie.split(/;\s*/);if(t=n.length)for(;--t>-1;)if(n[t].match(/^_GmUS/)){n=n[t].split(/=/),n=n[1];break}"string"==typeof n?(n=n.split(/,/g),this.viewed=n[6]-0,this.visited=n[5]-0,this.updated=new Date(n[0],n[1]-1,n[2],n[3],n[4])):(this.viewed=0,this.visited=0,this.updated=new Date,this.updated.setDate(this.updated.getDate()-1))},_save:function(){var t=new Date,n=new Date(t),i=new Date(this.updated);n.setFullYear(t.getFullYear()+10),i.setDate(this.updated.getDate()+1),t>i||(t=this.updated),e.document.cookie="_GmUS="+t.getFullYear()+","+(t.getMonth()+1)+","+t.getDate()+","+t.getHours()+","+t.getMinutes()+","+(this.visited+(t>i?1:0))+","+(this.viewed+1)+"; expires="+n.toUTCString()+"; domain="+e.domain+"; path=/"}},e}(),function(e){var t="TrackGA";MG.Facade.register(t,function(n){var i=function(){p("  ","  ","1",!1)},r=function(){p("    ","    ","1",!1)},o=function(e){return!1},a=function(){return!1},s=function(){p(" "," cookie","1",!1)},c=function(e){return!1},l=function(){return p("1 ","  ","1",!1),!1},u=function(e){return!1},f=function(e){return!1},d=function(){return!1},h=function(){var t={},n=!1,i=!1,r=$("#media-middle")[0],o=$(".media_left")[0];if(r&&o){var a=r.getBoundingClientRect(),s=o.getBoundingClientRect(),c=function(){var o=document.documentElement.scrollTop||document.body.scrollTop,l=r.clientHeight;!n&&l&&(t=$("#media-middle")[0].getBoundingClientRect(),a.top-t.top>l&&(n=!0,p("  ","","660",!1))),i||s.top-o<s.height&&(i=!0,p("  ","","240",!1)),n&&i&&e.removeEventListener("scroll",c)};e.addEventListener("scroll",c)}},p=function(e,t,n,i){"function"==typeof ga&&(i||ga("send","event",e,t,n))},g=function(){p(" "," ","1",!1)},v=function(){p(" ","  ","1",!1)},m=function(){p(" "," ","1",!1)},y=function(){p(" "," ","1",!1)},b=function(){p(" "," ","1",!1)},w=function(){p("","  ","",!1)};return{activate:function(){n.addListener(t+".searchField",i),n.addListener(t+".clickSearchCountry",r),n.addListener(t+".hamburgerMenu",o),n.addListener(t+".toOldSite",a),n.addListener(t+".currentWeatherParams",c),n.addListener(t+".checkboxInWeather",u),n.addListener(t+".weatherScroll",f),n.addListener(t+".noCookie",s),n.addListener(t+".newSiteVersion",d),n.addListener(t+".sendFirstAprilClick",l),n.addListener(t+".mapRadarFrameDetect",g),n.addListener(t+".mapRadarClick",v),n.addListener(t+".mapRadarScroll",m),n.addListener(t+".mapRadarDrag",y),n.addListener(t+".mapRadarPlay",b),n.addListener(t+".radarTeaser",w),h()},destroy:function(){}}})}(window),function(){var e="Location";MG.Facade.register(e,function(t){var n={date:"today"},i=function(e){r(),_.extend(n,e),location.hash=n.date},r=function(){var e=location.hash.replace("#",""),t=e.split("/");return void 0!==t[0]&&(n.date=t[0]),n},o=function(e){var t,n,i,r,o={};for(t=_.unescape(e).replace(/^.*\/\??/,"").split("&"),i=0,r=t.length;i<r;i++)n=t[i].split("="),o[n[0]]=n[1];return o};return{activate:function(){t.addListener(e+".setHash",i),t.addListener(e+".getHash",r),t.addListener(e+".parseQueryString",o)},destroy:function(){t.removeAllListeners()}}})}(),function(){var e="Scroll";MG.Facade.register(e,function(t){var n=null,i=null,r=null,o=null,a=528,s=0,c=0,l=0,u=0,f={},d={},h=!1,p=!1,g=function(e,t){d=t,a=d.slideWidth||a,n=$(d.scroller)||$(".forecast_scroll"),i=$(d.naviItem)||$(".navigation"),$links=$(".forecast_container .header_item a"),r=$(".arrow-left"),o=$(".arrow-right"),x(),v(),M(),C()},v=function(){_.each($(".js_head_item"),function(e,t){var n=$(e).data("index");f[n]=$(e).data("date")})},m=function(e,t,n){var i=150,r=new Date,o=r.getTime(),a=1;h=!0,t-=e;var s=setInterval(function(){r=new Date,a=(r.getTime()-o)/i,a>1&&(a=1);var c=Math.round(e+t*(-Math.cos(a*Math.PI)/2+.5));n.scrollLeft=c,1===a&&(h=!1,clearInterval(s),y())},10)},y=function(){t.notify("Location.setHash",{date:f[s]}),C()},b=function(){p&&(p=!1,s=Math.round(n[0].scrollLeft/a),u=s*a,m(n[0].scrollLeft,u,n[0]))},w=function(){p=!0},C=function(){n[0].scrollLeft<=0?r.hasClass("disabled")||r.addClass("disabled"):r.hasClass("disabled")&&r.removeClass("disabled"),n[0].scrollLeft>=a*(d.quantity-("daily"===d.type?3:1))?o.hasClass("disabled")||o.addClass("disabled"):o.hasClass("disabled")&&o.removeClass("disabled")},M=function(){var e=t.notify("Location.getHash");e.date&&_.contains(_.values(f),e.date)&&(s=_.indexOf(_.toArray(f),e.date),l=n[0].scrollLeft,u=s*a,m(l,u,n[0]))},k=function(e){var t=$(e).data("href");t&&(location.href=t)},x=function(){n.on("scroll.start, touchmove.start",_.debounce(w,300,!0)).on("scroll.stop, touchmove.stop",_.debounce(b,350)),$(".with-links-sm").find(".wframe").off("click.sm").on("click.sm",function(e){c?(e.preventDefault(),e.stopImmediatePropagation()):k(this)}),i.on("click",function(e){if(e.preventDefault(),e.stopPropagation(),!$(this).hasClass("disabled")){if(h)return!1;h=!0,$(this).hasClass("arrow-left")?s--:s++,s>=d.quantity-1&&(s=d.quantity-1),s<=0&&(s=0),u=s*a,m(n[0].scrollLeft,u,n[0],!0)}}),$(document).on("keyup",function(e){39===e.keyCode?(o.trigger("click"),e.preventDefault()):37===e.keyCode&&(r.trigger("click"),e.preventDefault())})};return{activate:function(){t.addListener(e+".init",g),t.addListener(e+".moveSlide",M)},destroy:function(){t.removeAllListeners()}}})}.call(this),function(){var e="City";MG.Facade.register(e,function(t){var n=5,i=MG.Storage.getObject("lvcities")||{},r={fcities:{header:{url:null,title:null},items:{}},lcities:{header:{url:null,title:null},items:{}},pcities:{items:{},header:{url:null,title:null},footer:{url:null,title:null}}},o={timeout:5e3,expiredYears:87600,expiredHours:24},a=function(e){if(e.id=parseInt(e.city.id,10),!_.has(i,e.id)||!_.has(i,e.id)&&i[e.id].type!==e.type){i[e.id]={id:e.id||MG.Config.city.id,type:e.type,cw:e.cw||MG.Config.cw,timestamp:(new Date).getTime(),name:e.name||MG.Config.city.name,info:e.info||MG.Config.city.info},MG.Storage.setObject("lvcities",i);var t=p();t&&t.lastViewedCity&&t.lastViewedCity.length>n&&u(_.first(t.lastViewedCity))}else _.has(i,e.id)&&(i[e.id].timestamp=(new Date).getTime(),MG.Storage.setObject("lvcities",i));e.cb&&"function"==typeof e.cb&&e.cb()},s=function(e){a({city:MG.Config.city,type:e,cw:MG.Config.cw})},c=function(e,t){_.extend(i[e.id],t,{timestamp:(new Date).getTime()}),MG.Storage.setObject("lvcities",i)},l=function(e){return i[e]?i[e].type:null},u=function(e){delete i[e.id],MG.Storage.setObject("lvcities",i),e.cb&&"function"==typeof e.cb&&e.cb()},f=function(e){i=_.pick(i,function(t){return t&&t.type!==e.type}),MG.Storage.setObject("lvcities",i),"lastViewedCity"===e.type&&(r.lcities.items=[]),"favouritesList"===e.type&&(r.fcities.items=[]),e.cb&&"function"==typeof e.cb&&e.cb()},d=function(){var e=new Date,t=MG.Config.staticServers[0]+"/assets/flat-ui/img/icons/weather/flat/svg/",n=3e5,r=_.where(i,{type:"favoriteCity"});_.each(r,function(r){void 0===r.time&&(r.time=0),void 0!==r.time&&e-new Date(r.time)>=n&&$.ajax({url:"/api/v2/weather/current/"+r.id+"/",dataType:"json",success:function(n){if(n){var o=$('.js-myloc-uid[data-uid="'+r.id+'"]');o.find(".js-myloc-img").attr("src",t+n.icon.flatui+".svg"),o.find(".js-myloc-temp").innerHMTL=MG.Helper.pureTemp(n.temperature.air.C),i[r.id].cw={temperature:{air:n.temperature.air},icon:{flatui:n.icon.flatui}},i[r.id].time=e,MG.Storage.setObject("lvcities",i)}}})})},h=function(e,t){return _.chain(e).where({type:t}).sortBy("timestamp").value()},p=function(){var e=MG.Storage.getObject("lvcities")||{};return{lastViewedCity:h(e,"lastViewedCity"),favoriteCity:h(e,"favoriteCity")}},g=function(e){_.each(e,function(e){var t=r[e];if(_.size(t.items)>0&&"object"==typeof t.items){var n={items:t};_.extend(n,MG.Helper),$(t.header.el.to).html(window.JST[t.header.el.template](n)).css({opacity:1})}else $(t.header.el.to).css({display:"none"})})},v=function(e){var t=p(),n=24,i=["fcities","lcities","pcities"];"index"===e?(r.fcities={header:{url:null,title:MG.Dictionary.city.favoritesTitle,el:{template:"favouritesList",to:".js_cities_fcities"}},items:t.favoriteCity},r.lcities={header:{url:null,title:MG.Dictionary.city.lastViewTitle,el:{template:"lastViewedList",to:".js_cities_lcities"}},items:t.lastViewedCity},r.pcities={header:{url:"/catalog/"+MG.Config.country.CountryNameURL+"/",title:MG.Dictionary.city.popularTitle+' <a href="/catalog/'+MG.Config.country.CountryNameURL+'/" class="link black">'+MG.Config.country.CountryNameP+"</a>",el:{template:"popularList",to:".js_cities_pcities"}},items:{},footer:{url:"/catalog/",title:""}}):(i=["pcities"],r.pcities.header.el={template:"popularList",to:".js_cities_pcities"});var o=$("#noscript")[0]?$("#noscript")[0].textContent.match(/<a (.+)>/g):{},a=null,s=0,c="",l=0,u="",d="";if(null!==o)for(var h=n,v=0;v<h;v++)a=o[v],void 0!==a&&(s=parseInt(a.match(/data-id="(\d+)"/)[1],10),l=a.match(/data-countrycapital="(\d+)"/),l=l?l[1]:0,c=a.match(/data-name="([^"]+)"/),c=c?c[1]:"",u=a.match(/data-nameP="([^"]+)"/),u=u?u[1]:"",d=a.match(/data-url="([^"]+)"/),d=d?d[1]:"",r.pcities.items[v]={id:s,name:c,nameP:u,isCountryCapital:parseInt(l),type:"popularCities",url:d});else i=["fcities","lcities"],$(".js_cities_pcities").html("").css({height:0,minHeight:0,padding:0,overflow:"hidden"}),$(".cities.cities_frame").css({minHeight:"auto"});try{g(i)}catch(m){new Error("Fail to render locations")}$(".js_remove_lvcities").on("click",function(){f({type:"lastViewedCity",cb:function(){g(["lcities"])}})})},m={isGet:!1,isError:!1,errorCode:null,timeout:o.timeout,cookies:["cityUS","cityLL","cityIP"],el:{$_btn:null}},y=function(e){var n=$('.currentgeo_input[data-type="'+e+'"]'),i=n.parent().find(".currentgeo_subtext");switch(n[0].checked="checked",e){case m.cookies[0]:t.notify("Search.init",{more:!1,useGEO:!1,saveToCookie:m.cookies[0],deleteCookies:m.cookies}),i.html(MG.Config.city.name),m.el.$_btn.addClass("disabled");break;case m.cookies[1]:if(m.isGet)m.isError?m.el.$_btn.addClass("disabled"):m.el.$_btn.removeClass("disabled");else if(navigator.geolocation){m.isGet=!0,m.isError=!1,m.el.$_btn.addClass("disabled"),i.html(MG.Dictionary.city.geo+' <span class="dot"></span>');var r="",o=i.find(".dot"),a=setInterval(function(){13===r.length?r="":r+=".",o.html(r)},500);navigator.geolocation.getCurrentPosition(function(e){var t={latitude:e.coords.latitude,longitude:e.coords.longitude};w({url:"/api/v2/search/nearestTownsByCoords/?latitude="+t.latitude+"&longitude="+t.longitude+"&limit=1"+(MG.Config.additionalLang.length>0?"&lang="+MG.Config.additionalLang:""),type:m.cookies[1],cb:function(){clearInterval(a),MG.Storage.setObject("gisgeo",t),m.el.$_btn.removeClass("disabled")}})},function(e){clearInterval(a),m.isError=!0,m.errorCode=e.code;var t="";switch(e.code){case 1:t=MG.Dictionary.errors.geo[1];break;case 2:t=MG.Dictionary.errors.geo[2];break;case 3:t=MG.Dictionary.errors.geo[3]+' <span id="upTimeout" class="link blue">'+MG.Dictionary.errors.timeup+"</span>";break;default:t=MG.Dictionary.errors.geo[0]}i.html('<span class="red">'+t+"</span>"),m.el.$_btn.addClass("disabled")},{timeout:m.timeout,maximumAge:36e4})}break;case m.cookies[2]:m.el.$_btn.removeClass("disabled")}},b=function(e){m.el.$_btn=$(".currentgeo_btn");var t=$(".currentgeo_input"),n=0;navigator.geolocation||$('.currentgeo_input[data-type="'+m.cookies[1]+'"]').parent().css({display:"none"});var i=m.cookies[2];w({url:"/api/v2/geoip/"+(MG.Config.additionalLang.length>0?"?lang="+MG.Config.additionalLang:""),type:m.cookies[2]});for(var r=0,a=m.cookies.length;r<a;r++)if(n=MG.Storage._getItem(m.cookies[r])){i=m.cookies[r],$('.currentgeo_input[data-type="'+m.cookies[r]+'"]')[0].checked="checked",$('.currentgeo_input[data-type="'+m.cookies[r]+'"]').val(n);break}n||(i=m.cookies[2]),y(i);try{$('.currentgeo_input[data-type="'+m.cookies[0]+'"]').parent().find(".currentgeo_subtext").html(MG.Config.city.name)}catch(s){}t.on("change",function(){i=$(this).data("type"),y(i)}),$(".currentgeo_subtext").on("click","#upTimeout",function(e){e.preventDefault(),m.timeout=45e3,m.isGet=!1,m.isError=!1,m.errorCode=null,y(m.cookies[1])}),$("#js-search").on("click.bl",function(){m.el.$_btn.addClass("disabled"),y(m.cookies[0])}),m.el.$_btn.on("click",function(){if(!$(this).hasClass("disabled")){m.el.$_btn.addClass("disabled");for(var e=0,t=m.cookies.length;e<t;e++)MG.Storage._removeItem(m.cookies[e],"/",location.hostname);var n=i===m.cookies[2]?24:o.expiredYears,r=$('.currentgeo_input[data-type="'+i+'"]').val();isNaN(+r)?m.el.$_btn.addClass("disabled"):(MG.Storage._setItem(i,r,n,"/",location.hostname),MG.Config.additionalLang.length>0?location.href="/"+MG.Config.additionalLang+"/":location.href="/")}return!1})},w=function(e){var t=$('.currentgeo_input[data-type="'+e.type+'"]'),n=t.parent().find(".currentgeo_subtext");$.ajax({url:e.url,dataType:"json",success:function(i){if(i){"[object Array]"===Object.prototype.toString.call(i)&&(i=i[0]);var r=i.name;r+=i.district?", "+i.district.name:"",r+=i.subDistrict?", "+i.subDistrict.name:"",r+=i.country.name?", "+i.country.name:"",t.val(i.id),n.html(r),e.cb&&"function"==typeof e.cb&&e.cb()}},error:function(e){n.html('<span class="red">'+MG.Dictionary.errors.common+"</span>"),new Error(e)}})},C=function(){var e=$(".js_cities_mcities");e.length&&_.each(e.find(".js-myloc-temp"),function(e){var t=$(e);t.css({backgroundColor:MG.Helper.color(t.data("temperature"),MG.Config.bgTempOpacity)})})},M=function(){var e=document.querySelector(".navteaser_newyear");e&&e.setAttribute("href",MG.Config.city.info[MG.Config.lang].url+"new-year/")};return M(),{activate:function(){t.addListener(e+".add",a),t.addListener(e+".addCurrentCity",s),t.addListener(e+".typeById",l),t.addListener(e+".remove",u),t.addListener(e+".removeAll",f),t.addListener(e+".change",c),t.addListener(e+".getAll",p),t.addListener(e+".renderLocations",v),t.addListener(e+".refreshWeather",d),t.addListener(e+".renderAMS",C),t.addListener(e+".initGeo",b),t.addListener(e+".selectOption",y)},destroy:function(){t.removeAllListeners()}}})}(),function(){var e="Search";MG.Facade.register(e,function(t){var n={delay:300,minChars:2,active:!1,autoFocus:!0,api:"/api/v2/search/searchresultforsuggest/",saveToLS:!0,saveToCookie:!1,deleteCookies:[],useCache:!0,el:{inputId:"js-search",loaderId:"js-spinner",blurBtn:"js-blursearch",btnId:"js-search-btn",listId:"js-search-list",containerId:"js-search-container"},onEnter:null,onSearchAll:null,tpl:"search",type:(MG.Config.lang?"/?lang="+MG.Config.lang:"")+(MG.Config.domain?"&domain="+MG.Config.domain:"/"),limit:8,saveToEl:null,more:!1,useGEO:!0,useScrollUp:!1,useScrollUpWithOverflow:!1,useLastViewed:!1,useFavourites:!1,useCountries:!1,useSearchAll:!0},i=null,r={items:[],total:1,search:"",error:""},o=-1,a=null,s=null,c=null,l=null,u=null,f=null,d=null,h=!1,p="",g=!1,v=!1,m={ESC:27,TAB:9,ENTER:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},y={MORE:99,GEO:100,TOTAL:0},b={},w={},C={};if(MG.Config.nearestByIPCity)try{var M=_.map(MG.Config.nearestByIPCity,function(e){var t={};return t.type="nearestByIPCity",t.info=e,t.url=e[MG.Config.lang].url,t.id=e[MG.Config.lang].id,t});C.items=M,C.total=M.length}catch(k){}var x=$(".js_subnav_search .js-makefav"),L="founditem__star_active",G=document.querySelector(".transparent-wrap"),T=document.querySelector(".transparent-input"),A=function(e){_.extend(n,e),r.minChars=n.minChars,r.more=n.more,a=$("#"+n.el.btnId),s=$("#"+n.el.listId),l=$("#"+n.el.containerId),u=$("#"+n.el.inputId),d=$("#"+n.el.loaderId),f=$("."+n.el.blurBtn);var i=$("form#search-form");a.one("click",X),l[0]&&(l[0].addEventListener("click",function(e){e.stopPropagation()}),u.on("focus.search",q).on("keyup.search",R).on("keydown.search",H).on("click",function(e){e.stopPropagation()}),$(document).on("click",F).on("keydown.search",function(e){e.which===m.ESC&&F()}),i.length&&i.on("submit",function(e){e.preventDefault()}),S(),x.on("click",V),"favoriteCity"===t.notify("City.typeById",MG.Config.city&&MG.Config.city.id)&&x.addClass(L))},S=function(){var e=t.notify("City.getAll")||{};b.items=e.lastViewedCity,
b.total=_.size(b.items),w.items=e.favoriteCity,w.total=_.size(w.items)},E=function(){i&&i.abort&&(i.abort(),n.active=!1,B());var e=n.api+encodeURIComponent(p)+n.type;h||(t.notify("TrackGA.searchField"),h=!0),n.active||(n.active=!0,i=new XMLHttpRequest,d.addClass("fa-spinner"),f.addClass("hide"),i.onreadystatechange=function(){if(4===i.readyState&&i.status>=200&&i.status<300){if(o=-1,c.removeClass("state_hover"),i.responseText){var e=JSON.parse(i.responseText);r.items=e.items,r.total=e.total,r.search=p,n.useGEO&&r.total++,n.more?(r.more=!0,e.total<n.limit?r.more=!1:r.total++):r.more=!1,g=!0,W(),o=0,Q(o)}d.removeClass("fa-spinner"),f.removeClass("hide")}n.active=!1},i.open("GET",e,!0),i.send())},j=function(){c=l.find(".js-li");var e=l.find(".js_fav_star");_.each(c,function(e){$(e).off("click.search",I),$(e).on("click.search",I),$(e).off("mouseenter.search",J),$(e).on("mouseenter.search",J),$(e).off("mouseleave.search",K),$(e).on("mouseleave.search",K)}),_.each(e,function(e){$(e).off("click").on("click",Y)}),$(".found__action.js_clear_lcities").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),t.notify("City.removeAll",{type:"lastViewedCity",cb:W}),u[0].focus()})},I=function(e){e.preventDefault(),e.stopImmediatePropagation();var i,a,s;if(null!==n.onEnter&&"function"==typeof n.onEnter)return i=$(c[o]).data("type"),a=r.items,u.val(a[o].name),n.onEnter.call(this,a[o]);if(n.saveToLS){if(i=$(c[o]).data("type"),a=[],"city"===i)if(r.items.length?a=r.items:(a=n.useFavourites?a.concat(w.items):a,a=n.useLastViewed?a.concat(b.items):a,a=n.useNearestByIP?a.concat(C.items):a),s=a[o],u.val(s.name),n.saveToCookie){for(var l=0,f=n.deleteCookies.length;l<f;l++)MG.Storage._setItem(n.deleteCookies[l],"","Thu, 01-Jan-70 00:00:01 GMT"),MG.Storage._removeItem(n.deleteCookies[l]),MG.Storage._removeItem(n.deleteCookies[l],"/",location.hostname);MG.Storage._setItem(n.saveToCookie,s.id,87600,"/",location.hostname),MG.Config.additionalLang.length>0?location.href="/"+MG.Config.additionalLang+"/":location.href="/"}else location.href=c[o].getAttribute("href");else if("more"===i||"link"===i||"country"===i||"geo"===i){"country"===i&&t.notify("TrackGA.clickSearchCountry");var d=c[o].getAttribute("href");d&&(location.href=d.replace(/<[^>]*>/g,""))}}else if(null!==n.saveToEl){var h=r.items[o||0]||{};_.size(h)&&($("#tuner_field_city").attr("placeholder",h.name),$(n.saveToEl).val(h.id).trigger("click"))}F()},O=function(e){var t=c[e],n=l[0];if(t){var i=n.getBoundingClientRect(),r=t.getBoundingClientRect(),o=r.top+r.height,a=i.top+i.height;o>a&&(n.scrollTop=i.height),r.top<i.top&&(n.scrollTop=0)}},P=function(){o--,o<0&&(o=y.TOTAL-1),Q(o),O(o)},D=function(){o++,o>=y.TOTAL&&(o=-1),Q(o),O(o)},q=function(){if(!l.hasClass("opened")){t.notify("City.refreshWeather"),W();var e=s[0].offsetHeight+u[0].offsetHeight>window.innerHeight;!v&&n.useScrollUpWithOverflow&&e&&N()}},F=function(){v=!1,B(),$(document.body).removeClass("body_stop_scroll"),s.css({maxHeight:"initial"}),g=!1,o=-1,t.notify("Menu.closeRibbon"),i&&i.abort(),d.removeClass("fa-spinner"),$("#js-search-container").removeClass("opened")},H=function(e){if((u[0].disabled||g||e.which!==m.DOWN||!p)&&(g||e.which===m.ENTER&&n.useSearchAll&&o===-1)){switch(e.which){case m.ESC:i&&i.abort(),e.target.id!==n.el.inputId&&F();break;case m.RIGHT:o!==-1&&r.items.length&&u.val(r.items[o].name);break;case m.TAB:D();break;case m.ENTER:n.useSearchAll&&o===-1&&X(),I(e);break;case m.UP:P();break;case m.DOWN:D();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}},R=function(e){switch(e.which){case m.UP:case m.DOWN:case m.ENTER:return}p!==u.val()&&(p=u.val(),o=-1,p.length>=n.minChars&&(!v&&n.useScrollUp&&N(),E())),u.val()<n.minChars&&(B(),W())},N=function(){v=!0;var e=u[0].getBoundingClientRect().top-5,t=document.documentElement.scrollTop||document.body.scrollTop;window.scrollTo({top:t+e,behavior:"smooth"}),n.useScrollUpWithOverflow&&(s.css({maxHeight:window.innerHeight-u[0].offsetHeight-35+"px"}),$(document.body).addClass("body_stop_scroll"))},B=function(){o=-1,r.items=[],r.total=0,r.search="",r.more=!1,r.error="",j()},U=function(e){var t=_.uniq(e,function(e){return e.info?e.info[MG.Config.lang].id:e.id}),n=_.countBy(t,function(e){return e.info?e.info[MG.Config.lang].name:e.name});_.each(n,function(e,n){t.map(function(t){return e>1&&(t.info?t.info[MG.Config.lang].name===n&&(t.nonuniq=!0):t.name===n&&(t.nonuniq=!0)),t})});var i=_.groupBy(t,"type"),r={};return _.each(i,function(e,t){r[t]={items:e,total:_.size(e)}}),r},z=function(e){var t={};return _.each(e,function(e){e.info?t[e.info[MG.Config.lang].country.code]=e.info[MG.Config.lang].country:t[e.country.code]=e.country}),{items:t,total:_.size(t)}},W=function(e){e=e||{};var t=[],i=0;S();var a={searchedCities:r,isCityJump:!1,lastViewedCity:{items:[],total:0},favoriteCity:{items:[],total:0},nearestByIPCity:{items:[],total:0},countriesItems:{items:[],total:0}};if(y.TOTAL=0,r.items.length>0)y.TOTAL+=r.total,_.extend(a.searchedCities,a.searchedCities.items);else if(r.error||0===r.items.length&&r.search.length>=r.minChars);else if(r.items.length<1&&(n.useFavourites&&(t=t.concat(w.items)),n.useLastViewed&&(t=t.concat(b.items)),i=t.length,n.useNearestByIP&&C.items&&(t=t.concat(C.items)),y.TOTAL+=t.length,_.extend(a,U(t)),n.useCountries)){var c=z(t);y.TOTAL=y.TOTAL+c.total+1,_.extend(a.countriesItems,c)}"changeCity"===e.eventType&&1===i&&(a.isCityJump=!0);var f=window.JST[n.tpl+"Template"](a),d=u.val();if(d.length>1){var h=d.charAt(0).toUpperCase()+d.slice(1),p=h.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");f=f.replace(new RegExp(p,"g"),function(e){return"<b>"+e+"</b>"})}s.html(f),n.autoFocus&&r.length&&(o=-1,Q(o)),j();var v=n.useLastViewed&&b.total||w.total&&n.useFavourites||y.TOTAL;v&&(l.addClass("opened"),g=!0)},Y=function(e){e.stopImmediatePropagation(),e.preventDefault();var n=$(this),i=n.data("id");n.hasClass(L)?("favoriteCity"===t.notify("City.typeById",i)&&x.removeClass(L),n.removeClass(L),t.notify("City.change",{id:i},{type:"lastViewedCity"})):("lastViewedCity"===t.notify("City.typeById",i)&&x.addClass(L),n.addClass(L),t.notify("City.change",{id:i},{type:"favoriteCity"})),W({eventType:"changeCity"})},V=function(e){e.stopImmediatePropagation(),e.preventDefault();var n=$(this);n.hasClass(L)?(n.removeClass(L),t.notify("City.change",{id:MG.Config.city.id},{type:"lastViewedCity"})):(n.addClass(L),t.notify("City.change",{id:MG.Config.city.id},{type:"favoriteCity"}))},X=function(e){return i&&i.abort(),null!==n.onSearchAll&&"function"==typeof n.onSearchAll?n.onSearchAll.call(this,p):(location.href="/search/"+p+"/",void F())},J=function(){var e=1*$(this).data("index");o=e,e===y.GEO&&(o=b.total?b.total:y.TOTAL),Q(o)},K=function(){c.removeClass("state_hover")},Q=function(e){void 0!==c&&(c.removeClass("state_hover"),$(c[e]).addClass("state_hover"))},Z=function(){var e=document.getElementById("city-us");e.checked=!0;var n=document.getElementById("js-search");n.focus();var i=document.querySelector(".currentgeo_btn");i.classList.add("disabled"),A(),t.notify("City.selectOption","cityUS")};return T&&G&&(G.addEventListener("click",Z),T.addEventListener("click",Z)),{activate:function(){t.addListener(e+".init",A)},destroy:function(){t.removeListener(e+".init",A)}}})}(),function(){var e="Print";MG.Facade.register(e,function(e){var t=function(){var e=$("#printWeather");e.on("click",function(){"function"==typeof window.print&&window.print()})};return{activate:t,destroy:function(){e.removeAllListeners()}}})}(),function(){var e="Details";MG.Facade.register(e,function(t){var n="details-state",i=MG.Storage.getObject(n)||{},r=function(e){var t=MG.Storage.getObject(n)||{};MG.Storage.setObject(n,_.extend(t,e))},o=function(){var e=document.querySelectorAll("[data-details-type]");Array.prototype.slice.call(e).forEach(function(e){var t=e.querySelector(".details__handle"),n=e.getAttribute("data-details-type"),o=e.getAttribute("data-details-default-hidden");void 0!==i[n]?e.setAttribute("aria-hidden",i[n]):o&&e.setAttribute("aria-hidden",o),t&&t.addEventListener("click",function(){var t=e.getAttribute("aria-hidden"),i="true"===t?"false":"true",o={};o[n]=i,r(o),e.setAttribute("aria-hidden",i)})})};return{activate:function(){t.addListener(e+".init",o)},destroy:function(){t.removeListener(e+".init",o)}}})}.call(this),function(){var e="Dropdown";MG.Facade.register(e,function(e){var t=function(){var e=document.querySelectorAll(".dropdown .dropdown__handle"),t=function(t){t.preventDefault(),t.stopPropagation(),Array.prototype.slice.call(e).forEach(function(e){var n=e.getAttribute("aria-expanded");e===t.currentTarget&&"false"===n?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false")})};Array.prototype.slice.call(e).forEach(function(e){e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded","false"),e.addEventListener("click",t)}),window.addEventListener("click",function(){Array.prototype.slice.call(e).forEach(function(e){e.setAttribute("aria-expanded","false")})})};return{activate:t,destroy:function(){e.removeAllListeners()}}})}(),function(){var e="Forecast";MG.Facade.register(e,function(t){var n=function(){$(".cell._hover").on("click",function(e){e.preventDefault(),location.href=$(this).find(".link")[0].href}).on("mouseenter.tdsh",function(){$(this).find(".cell_content")[0].style.boxShadow="0px 0px 0px 2px "+$(this).data("color_b"),$(this).find(".cell_content")[0].style.zIndex=101}).on("mouseleave.tdsh",function(){$(this).find(".cell_content")[0].style.boxShadow="0px 0px 0px 1px "+$(this).data("color_b"),$(this).find(".cell_content")[0].style.zIndex=100})},i=function(e){$(".with-links").find(".wframe").off("click.fm").on("click.fm",r)},r=function(e){var t=$(e).data("href");t&&(location.href=t)};return{activate:function(){t.addListener(e+".setMonthEvents",n),t.addListener(e+".setMeas",i)},destroy:function(){t.removeAllListeners()}}})}(),function(){var e="Astronomy";MG.Facade.register(e,function(t){var n=null,i="",r=0,o=function(){n=$("#sunrise"),i=n.data("color");var e=n.data("diff");if(void 0!==e)r=Math.round(e/n.data("length")*100),a();else{if(void 0===MG.Config.timestamp||void 0!==MG.Config.timestamp&&"Invalid Date"===MG.Config.timestamp.toString()){var t=new Date;MG.Config.timestamp=new Date(t.getTime()+6e4*t.getTimezoneOffset())}var o=new Date(n.data("sunrise")),s=new Date(MG.Config.timestamp.getTime()+6e4*MG.Config.city.date.offset);s-o<0?r=101:(r=Math.round((s-o)/1e3/60/n.data("length")*100),r=r>=100?101:r),r>0&&r<101&&a()}},a=function(){n.css({backgroundColor:"rgb("+i+")",width:r+"%"}).find(".circle")[0].style.boxShadow="0px 0pxa 0px 2px rgba("+i+", .35)"};return{activate:function(){t.addListener(e+".runSun",o)},destroy:function(){t.removeAllListeners()}}})}(),function(){var e="Geomagnetic";MG.Facade.register(e,function(e){var t=function(){var e=$(".widget_gm > h3 > .link").attr("href");$(".gmi_title > .link, .gmi_block").on("click",function(){location.href=e})};return{activate:function(){t()},destroy:function(){}}})}(),function(){var e="Clock";MG.Facade.register(e,function(t){var n=MG.Config.city.date.offset;if(!MG.Config.timestamp||"Invalid Date"===MG.Config.timestamp.toString()){var i=new Date;MG.Config.timestamp=new Date(i.getTime()+6e4*i.getTimezoneOffset())}var r=function(){_.each($("[data-dateformat]"),function(e){var t,i=new Date(MG.Config.timestamp.getTime()+6e4*n),r=e.getAttribute("data-dateformat"),o=function(e){return MG.Helper.formatDate(r,e)},a=o(i);e.innerHTML=a,setInterval(function(){i=new Date(i.getTime()+1e3),t=o(i),a!==t&&(a=t,e.innerHTML=t)},1e3)})};return{activate:function(){t.addListener(e+".start",r)},destroy:function(){t.removeAllListeners()}}})}(),function(){var e="Menu";MG.Facade.register(e,function(t){var n,i,r,o,a,s=($(".header"),$(".content > .subnav")),c=$(".subsubnav"),l=null,u=null,f=null,d=null,h=null,p=!1,g={},v=function(e){e=e||{},e.loadFlagsByFocusSearch&&$("#js-search").one("focus.search",function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.href="/assets/flat-ui/min/css/flags.min."+MG.Config.domain+".css",document.head.appendChild(e)})},m=location.hash.slice(1),y=$(".js_widget"),b=$(".media_middle"),w=function(e){var t=document.documentElement.scrollTop||document.body.scrollTop,n=document.querySelector("[data-widget-id='"+e+"']");if(n){var i=$(".subsubnav").length?90:60,r=t+n.getBoundingClientRect().top-i;"forecast"===e&&"1-day"===MG.Config.page&&(r=t+n.getBoundingClientRect().top-205),"climate"===MG.Config.page&&(r+=20),window.scrollTo({top:r,behavior:"smooth"}),y.forEach(function(e){e.classList.remove("widget_active"),e.classList.remove("widget_unactive")}),n.classList.add("widget_active"),setTimeout(function(){n.classList.remove("widget_active"),n.classList.add("widget_unactive")},500)}},C=function(){return _.reduce(b,function(e,t){return e+t.offsetHeight},0)},M=function(){var e=$(".js_widget_nav");_.each(y,function(t){function n(){var n=t.getAttribute("data-widget-name"),r=document.createElement("a");if(r.href=location.pathname+"#"+i,$(r).addClass("link white subsubnav_link"),"forecast"!==i){var o=$(t).find(".widget__value_alert").length;o&&$(r).addClass("subsubnav_link_alert")}r.setAttribute("data-subnav-id",i),r.innerHTML=n,r.addEventListener("click",function(){w(i),location.hash=i}),e.append(r)}var i=t.getAttribute("data-widget-id");n()})},k=function(){if(0===y.length)c.remove();else{var e=C();M(e),"overview"!==m&&""!==m&&w(m)}},x=function(e){g=e||{},l=$(".js_pageoverlay"),u=$(".js_subnav_search"),a=$(".js_citytitle"),f=u.find(".js_search_form"),d=u.find("#js-search"),n=u.find(".js-makefav"),i=u.find(".js-blursearch"),r=d.data("placeholder"),o=d.attr("data-second-placeholder"),a.length&&!u.hasClass("fullwidth")&&(h=f[0].offsetWidth,g.isBluePlaceholder&&f.addClass("blueplaceholder")),d.on("focus",function(){l.hasClass("show")||L()}),p=!0,$(document).on("keydown",function(e){27===e.keyCode&&(G(),d[0].blur())}),l.on("click",function(){G(),d[0].blur()})},L=function(){p&&(l.addClass("show"),s.addClass("subnav_overlay"),f.removeClass("blueplaceholder"),_.isNumber(h)&&(f.css("width","480px"),d.val(""),d.attr("placeholder",r),i.removeClass("hide"),n.addClass("hide")))},G=function(){p&&(l.removeClass("show"),s.removeClass("subnav_overlay"),g.isBluePlaceholder&&f.addClass("blueplaceholder"),_.isNumber(h)&&(f.css("width",h+"px"),o&&(d.val(""),d.attr("placeholder",o)),i.addClass("hide"),n.removeClass("hide")),$("#js-search-container").removeClass("opened"))};return{activate:function(){t.addListener(e+".initSubMenu",k),t.addListener(e+".initFixedMenu",v),t.addListener(e+".initRibbon",x),t.addListener(e+".closeRibbon",G)},destroy:function(){}}})}.call(this),function(){var e="MobileSiteLink";MG.Facade.register(e,function(t){var n=document.querySelectorAll(".footer .js_mobilesitelink, .footer .go-to-mobile"),i=document.querySelector(".notice"),r=function(e){e.preventDefault(),MG.Storage._setItem("mobile","yes",87600,"/",window.location.hostname),window.location.reload()},o=function(){MG.Storage._setItem("mobile","never",87600,"/",location.hostname),i.remove()},a=function(){Array.prototype.slice.call(n).forEach(function(e){e.addEventListener("click",r)});var e=MG.Utils.isMobile();if(e?document.body.classList.add("mobile"):(MG.Storage._removeItem("mobile","/",window.location.hostname),document.body.classList.remove("mobile"),i&&i.remove()),i){var t=i.querySelector(".notice .close, .notice .js_mobilesitelink_close"),a=i.querySelector(".notice .js_mobilesitelink, .notice .go-to-mobile");a.addEventListener("click",r),t.addEventListener("click",o)}};return{activate:function(){t.addListener(e+".init",a)},destroy:function(){t.removeListener(e+".init",a)}}})}.call(this),function(){var e="OldSiteLink";MG.Facade.register(e,function(t){var n=function(){MG.Storage._setItem("old","1",720,"/",window.location.hostname),window.location.href=""===MG.Config.additionalLang||"undefined"==typeof MG.Config.additionalLang?"/":"/"+MG.Config.additionalLang},i=function(){Array.prototype.slice.call(document.querySelectorAll(".js_oldsitelink")).forEach(function(e){e.addEventListener("click",n)})};return{activate:function(){t.addListener(e+".init",i)},destroy:function(){t.removeListener(e+".init",i)}}})}.call(this),function(){var e="Gallery";MG.Facade.register(e,function(){var e=function(e){function t(){var e=r.root.offsetWidth;r.blocks.forEach(function(t){if(t.style.width=e+"px",t.classList.contains("gallerymedia__image")){var n=Math.round(e/1.5);t.nextSibling.style.height=r.rootHeight-n+"px"}})}function n(){s=setInterval(r.right,a)}function i(){clearInterval(s)}this.list=e.list,this.root=e.root,this.rootHeight=this.root.offsetHeight;var r=this,o=0,a=4e3,s=null,c=this.list.firstElementChild,l=this.list.lastElementChild;this.list.insertBefore(l.cloneNode(!0),c),this.list.appendChild(c.cloneNode(!0)),this.items=document.querySelectorAll(e.items),this.itemsLength=this.items.length,this.blocks=Array.prototype.slice.call(document.querySelectorAll(e.blocks)),this.container=this.list.parentNode,this.arrowLeft=e.arrowLeft,this.arrowRight=e.arrowRight,this.setSlide=function(e,t){o=e;var n=100/this.itemsLength*e;t&&!t.isAnimated?this.list.style.transition="none":this.list.style.transition="transform .2s",this.list.style.transform="translateX("+-n+"%)"},this.left=function(){var e=this.itemsLength-3;o>0?this.setSlide(o-1):(this.setSlide(e+1,{isAnimated:!1}),setTimeout(function(){r.setSlide(o-1)},50))},this.right=function(){var e=2;o<r.itemsLength-1?r.setSlide(o+1):(r.setSlide(e-1,{isAnimated:!1}),setTimeout(function(){r.setSlide(e)},50))},this.arrowLeft.addEventListener("click",this.left.bind(this)),this.arrowRight.addEventListener("click",this.right.bind(this)),this.container.addEventListener("mouseout",n),this.container.addEventListener("mouseover",i),t.bind(this)(),n(),this.setSlide(1,{isAnimated:!1}),window.addEventListener("resize",t.bind(this))},t=function(){null!==document.querySelector(".gallerymedia")&&new e({root:document.querySelector(".gallerymedia"),list:document.querySelector(".gallerymedia__list"),items:".gallerymedia__item",blocks:".gallerymedia__container, .gallerymedia__image",arrowLeft:document.querySelector(".gallerymedia__arrow_left"),arrowRight:document.querySelector(".gallerymedia__arrow_right")})};return{activate:t,destroy:function(){}}})}(),function(){var e="Rss";MG.Facade.register(e,function(t){function n(e){var t=["main","right_col_1","right_col_2"];return e.parentNode?t.indexOf(e.parentNode.className)!==-1?e.parentNode.className:n(e.parentNode):null}var i,r={},o=[],a=[],s=200,c="",l={main:"C1",right_col_1:"C2",right_col_2:"C3"},u=function(){c=MG.Utils.activePage(),MG.AnaliticsEvent.push(function(){return{ym:{pars:{Actions:{Popularity:{Categories:c,Pages:document.location.pathname,Hash:document.location.hash}}},func:"visitParams"}}})},f=function(){"interactive"===document.readyState||"complete"===document.readyState?m():($(document).on("DOMContentLoaded",d),i=setInterval(d,s))},d=function(){"interactive"!==document.readyState&&"complete"!==document.readyState||(clearInterval(i),$(document).off("DOMContentLoaded",d),m())},h=function(e){var t=0,n='.link[href*="/ref/?"][href*="news_resource='+e+'"][href*="position=0"]',i=document.querySelector(n),r="";return i&&(r=i.getAttribute("href"),t=(r.match("[?&]count=([^&]+)")||[])[1]),t},p=function(e,t){t||(t="Clicks");var i=e.href,r=i.indexOf("?"),o=i.slice(r+1).split("&"),a={},s=!1;if("BlockView"===t&&(t="Views",s=!0),o.forEach(function(e){var t=e.split("=");a[t[0]]=t[1]}),a.url&&a.id&&a.position&&a.news_resource){var u={},f=atob(a.url),d=a.news_source,p=a.news_resource,m=h(a.news_resource),y=n(e),b={event:t,rss_source:d,rss_resource:p,quantity:m,id:a.id,domain:MG.Config.domain,locale:MG.Config.lang,position:a.position,categories:c,url:f,pubDate:e.dataset.pubDate?e.dataset.pubDate:"",category:e.dataset.category?e.dataset.category:"",title:e.textContent?e.textContent.trim():""};return s&&(b.position="block",b.url="#"),y&&(b.slot_id=l[y],u=v(b)),{ym:g(b,u),ch:{pars:{data:[b]}}}}return{}},g=function(e,t){switch(e.event){case"Clicks":return{pars:[e.url,{params:t}],func:"extLink"};default:return{pars:t,func:"visitParams"}}},v=function(e){var t={},n={},i={},r={},o={RSS:{}},a=[e.rss_resource,e.slot_id,"Q"+e.quantity,"ID"+e.id,e.domain,e.locale].join("|");return t[e.position]=e.url,n[e.categories]=t,i[a]=n,r[e.rss_source]=i,o.RSS[e.event]=r,o},m=function(){r={};var e=$('.link[href*="/ref/?"]');_.each(e,function(e){var t=$(e);"yes"!==t.data("extLink")&&(t.data("extLink","yes"),t.on("click",function(t){MG.AnaliticsEvent.push(function(){return p(e,"Clicks")})}),inView.is(e)?(y(e,"Views"),b(e)):inView(L(e)).once("enter",function(){M(e,"Views"),C(e)}),w(e))}),r&&MG.AnaliticsEvent.push(r)},y=function(e,t){var n=k(e.getAttribute("href"))+"_"+t;o.indexOf(n)===-1&&(MG.Common.deepMerge(r,p(e,t)),o.push(n))},b=function(e){var t="BlockView",n=x(e.getAttribute("href"))+"_"+t;a.indexOf(n)===-1&&(MG.Common.deepMerge(r,p(e,t)),a.push(n))},w=function(e){var t=e.getAttribute("href"),n=MG.Helper.getAllUrlParams(t);"0"===n.position&&y(e,"Requests")},C=function(e){var t="BlockView",n=x(e.getAttribute("href"))+"_"+t;a.indexOf(n)===-1&&(MG.AnaliticsEvent.push(function(){return p(e,t)}),a.push(n))},M=function(e,t){var n=k(e.getAttribute("href"));o.indexOf(n)===-1&&(MG.AnaliticsEvent.push(function(){return p(e,t)}),o.push(n))},k=function(e){var t=MG.Helper.getAllUrlParams(e);return[t.slot_id,t.slot_position,t.news_resource,t.position].join("_")},x=function(e){var t=MG.Helper.getAllUrlParams(e);return[t.slot_id,t.slot_position,t.news_resource].join("_")},L=function(e){var t=e.getAttribute("href"),n=MG.Helper.getAllUrlParams(t),i="";return n.news_resource&&(i='[href*="/ref/?"][href*="news_resource='+n.news_resource+'"][href*="position='+n.position+'"]'),i};return{activate:function(){t.addListener(e+".trackingLinkInit",f),t.addListener(e+".trackingCategories",u)},destroy:function(){t.removeAllListeners()}}})}(),function(){var e="Metrika";MG.Facade.register(e,function(t){var n=null,i=function(){window.ym(n,"extLink",arguments[0],arguments[1])},r=function(){arguments[0]&&window.ym(n,"params",arguments[0])},o=function(){window.ym(n,"userParams",arguments[0])},a=function(){window.ym(n,"reachGoal",arguments[0],arguments[1],arguments[2],arguments[3])},s=function(){var e=MG.uniq;if(e){var t=new Date,n=+t,i=n+18e5;t.setTime(i);var r=MG.Storage._getItem("s_uniq"),o=MG.Storage.getItem("s_uniq");o=o&&o.split("|")||[];var a=MG.Storage._getItem("u_uniq"),s=MG.Storage.getItem("u_uniq"),c=e,l=e;if(a&&"undefined"!==a?l=a:s&&"undefined"!==s&&(l=s),2===o.length)var u=o[0],f=+o[1];r&&"undefined"!==r?c=r:u&&"undefined"!==u&&f>n&&(c=u),MG.Storage._setItem("r_uniq",e),MG.Storage.setItem("r_uniq",e),MG.Storage._setItem("s_uniq",c,t.toUTCString()),MG.Storage.setItem("s_uniq",c+"|"+i),MG.Storage._setItem("u_uniq",l,87600),MG.Storage.setItem("u_uniq",l)}},c=function(){t.notify("Rss.trackingCategories"),t.notify("Rss.trackingLinkInit"),s()},l=function(){/^adv\./.test(document.location.host)?n=54392989:/^beta\./.test(document.location.host)||/.*gis[-]dev\./.test(document.location.host)?n=22740727:"ru"===MG.Config.domain?n=39370095:"by"===MG.Config.domain?n=35824995:"kz"===MG.Config.domain?n=48324515:"lt"===MG.Config.domain?n=47097084:"md"===MG.Config.domain?n=51531242:"lv"===MG.Config.domain&&(n=51532424),c()},u=function(){var e=document.querySelector(".navteaser_birch");if(e){var t=MG.Utils.activePage();e.addEventListener("click",function(){MG.sendMetrikaVisits({Actions:{"STAT-116":{Clicks:{teaser_pollen:{page:t}}}}})})}};return u(),{activate:function(){l(),t.addListener(e+".visitParams",r),t.addListener(e+".userParams",o),t.addListener(e+".reachGoal",a),t.addListener(e+".extLink",i),MG.sendMetrikaVisits=r,MG.sendMetrikaUserParams=o},destroy:function(){t.removeAllListeners()}}})}(),function(){var e="ClickHouse";MG.Facade.register(e,function(t){function n(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)}var i=function(arguments){arguments.data&&c("rssVisitParams",arguments.data)},r={Source:"",ItemType:"",Project:"weather",Platform:"desktop",Place:"C2",TeaserAmount:0,FeedId:0,Domain:"ru",Locale:"ru",PageType:"3-days",TeaserPosition:0,Title:"",Url:"",NewsTag:"",DatePublished:"",Type:""},o="https://stat.gismeteo.net/r2",a=function(e){"function"==typeof navigator.sendBeacon?navigator.sendBeacon(o,JSON.stringify(e)):$.ajax({type:"POST",url:o,headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:JSON.stringify(e)})},s=function(arguments){for(var e=[],t=4096,i=2,r=0,o=0;o<arguments.length;o++)r=n(JSON.stringify(arguments[o])),i+r>t?(a(e),e=[arguments[o]],i=r+2):(e.push(arguments[o]),i+=r+1);e.length>0&&a(e)},c=function(e,t){Array.isArray(t)&&(t.forEach(function(e,t,n){var i={},o=[i,r],i=o.reduce(function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},{});i.Type=e.event,i.Source=e.rss_source,i.ItemType=e.rss_resource,i.TeaserAmount=parseInt(e.quantity,10),i.FeedId=parseInt(e.id,10),i.Domain=e.domain,i.Locale=e.locale,i.PageType=e.categories,i.Place=e.slot_id,_.isNaN(parseInt(e.position,10))||"Requests"===i.Type?(i.TeaserPosition=-1,i.Url="#",i.Title="",i.NewsTag="",i.DatePublished=""):(i.TeaserPosition=parseInt(e.position,10),i.Url=e.url,i.Title=e.title,i.NewsTag=e.category,i.DatePublished=e.pubDate),_.isNumber(i.TeaserAmount)||(i.TeaserAmount=-1),_.isNumber(i.FeedId)||(i.FeedId=-1),n[t]=i}),s(t))};return{activate:function(){t.addListener(e+".rssVisitParams",i)},destroy:function(){t.removeAllListeners()}}})}(),function(){var e="Analytics";MG.Facade.register(e,function(t){var n=[],i=function(e){"object"!=typeof e&&"function"!=typeof e||n.push(e),r()},r=function(){if(n)for(var e=0,i={};e<n.length;e++)if(i=n[e],"function"==typeof i&&(i=i()),"object"==typeof i)for(var r in i){var o=a(i[r],r);Array.isArray(o.pars)&&(o.pars.unshift(o.func),t.notify.apply(this,o.pars))}n=[]},o=function(){MG.Common.deepMerge(n,MG.AnaliticsEvent),Object.defineProperty(MG.AnaliticsEvent,"push",{configurable:!0,enumerable:!1,writable:!0,value:function(e){i(e)}}),r()},a=function(e,t){var n={func:"",pars:[]},i="",r=t;switch(t){case"ym":r="Metrika",i="visitParams";break;case"ch":r="ClickHouse",i="rssVisitParams";break;case"ga":r="googleAnalitics";break;default:return!1}return"string"==typeof e.func&&(i=e.func),"object"!=typeof e.pars||Array.isArray(e.pars)?n.pars=e.pars:n.pars=[e.pars],n.pars&&!Array.isArray(n.pars)&&(n.pars=Object.keys(n.pars).map(function(e){return n.pars[e]})),n.func=r+"."+i,n};return{activate:function(){o(),t.addListener(e+".addEvent",i)},destroy:function(){t.removeAllListeners()}}})}(),function(){var e="ABTests";MG.Facade.register(e,function(t){function n(e){return!(!a||!l[e]||l[e].disabled===!0)&&l[e].thisUser}function i(e){return!(!a||!l[e]||l[e].disabled===!0)&&l[e]}function r(e,t){"undefined"==typeof l[e]&&(l[e]=t),u(t,e),t.disabled&&t.disabled===!0||t.domain.indexOf(MG.Config.domain)!==-1&&(t.thisUser=f(t),t.thisUser&&(d(t,s),t.func&&"function"==typeof t.func&&h(t,t.func)))}var o="AB_Tests",a=!0,s="inGroup",c=["ru"],l={gisNewsNewFormat:{disabled:!1,version:2,task:"AB-22",audience:{test:"1-10",control:"11-20"}},AdRiverAdFox:{disabled:!0,version:1,task:"AB-10",audience:{AdFox:"1-50",AdRiver:"51-100"}},yandexNative:{disabled:!0,version:1,task:"AB-17",audience:{control:"1-5",test:"6-10"}}},u=function(e,t){"undefined"==typeof e.disabled&&(e.disabled=!1),e.version||(e.version=1),e.domain||(e.domain=c),e.metrikaName||(e.metrikaName=t),e.versionName=e.task+"_"+e.version},f=function(e){var t=MG.ABTEST;if(t){var n=1*t,i=e.audience;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r].split("-");if(+o[0]<=n&&n<=+o[1])return r}return!1}},d=function(e,n){var i={};n&&(i[o]={},i[o][e.metrikaName]={},i[o][e.metrikaName][e.versionName]={},i[o][e.metrikaName][e.versionName][e.thisUser]=n,t.notify("Metrika.visitParams",i))},h=function(e,t){var n,i=!1,r=function(){i=t(e),(i||"stop"===i)&&clearInterval(n)};n=setInterval(r,300),r()},p=function(){for(var e in l)r(e,l[e])},g=function(){return l},v=function(e,t){l[e]&&l[e].disabled!==!0&&d(l[e],t)};return{activate:function(){p(),t.addListener(e+".getGroup",n),t.addListener(e+".getTest",i),t.addListener(e+".sendMetrika",v),t.addListener(e+".getTests",g),t.addListener(e+".setTest",r)},destroy:function(){}}})}.call(this),function(){MG.Facade.register("Weather",function(e){function t(){MG.Storage._getItem("autoRefreshPage")&&e.notify("Metrika.visitParams",{Site:{Statistics:{refresh:1}}}),MG.Storage._removeItem("autoRefreshPage")}var n=function(){function t(){var e=document.querySelector(".widget-time-past"),t=document.querySelector(".widget-time-past-overlay");if(t&&e){var n=parseInt(e.getAttribute("data-past-days"),10),i=parseInt(e.getAttribute("data-items"),10);n>0&&n<i&&(t.style.width=Math.round(660/i*n)+"px",t.style.borderRight="1px solid red")}}MG.Facade.start("Location"),MG.Facade.start("Scroll"),MG.Facade.start("City"),MG.Facade.start("Search"),MG.Facade.start("Forecast"),MG.Facade.start("Astronomy"),MG.Facade.start("Geomagnetic"),MG.Facade.start("Clock"),MG.Facade.start("TrackGA"),MG.Facade.start("Menu"),MG.Facade.start("MobileSiteLink"),MG.Facade.start("OldSiteLink"),MG.Facade.start("Gallery"),MG.Facade.start("Rss"),MG.Facade.start("Metrika"),MG.Facade.start("ClickHouse"),MG.Facade.start("Analytics"),MG.Facade.start("ABTests"),MG.Facade.start("Print"),MG.Facade.start("Details"),MG.Facade.start("Dropdown"),MG.Userstat(),e.notify("Clock.start"),e.notify("Details.init"),e.notify("Gallery.checkFile"),e.notify("MobileSiteLink.init"),e.notify("OldSiteLink.init"),e.notify("Menu.initFixedMenu",{loadFlagsByFocusSearch:!0});var n=4;switch(MG.Config.page){case"1-day":case"weekly":case"two-weeks":case"10-days":case"weekend":e.notify("Menu.initSubMenu"),e.notify("Forecast.setMeas",{meas:["wind","precipitation"],saveToLS:!0,setHash:!0,fixedHeight:!0,setEvent:!0});break;case"3-days":var i=660;switch(MG.Config.domain){case"kz":case"by":i=720;break;default:i=660}e.notify("Menu.initSubMenu"),e.notify("Forecast.setMeas",{meas:["wind","precipitation"],saveToLS:!0,setHash:!0,fixedHeight:!0,setEvent:!0}),e.notify("Scroll.init",$(".forecast_wrap"),{scroller:".forecast_scroll",container:".forecast_container",pageItem:".p_item",naviItem:".navigation",quantity:10,type:"daily",slideWidth:i/3});break;case"month":e.notify("Forecast.setMonthEvents");break;case"new-year":t()}"index"===MG.Config.page?(n=3,e.notify("Search.init",{more:!0,useGEO:!1,useNearestByIP:!0,useLastViewed:!0,useFavourites:!0,useCountries:!0,useScrollUpWithOverflow:!0}),e.notify("City.renderLocations","index"),e.notify("City.refreshWeather"),e.notify("Menu.initRibbon")):(MG.Config.city&&e.notify("City.add",{city:MG.Config.city,type:"lastViewedCity"}),e.notify("Search.init",{more:!0,useGEO:!1,useNearestByIP:!0,useLastViewed:!0,useFavourites:!0,useCountries:!0,useScrollUpWithOverflow:!0}),1===MG.Config.day&&e.notify("Astronomy.runSun"),e.notify("Menu.initRibbon",{isBluePlaceholder:!0}),e.notify("City.renderLocations","inside")),$(".pageinfo .weatheralerts").length&&(e.notify("TrackGA.radarTeaser"),e.notify("Metrika.visitParams",{Site:{teaser:{radar:"view"}}})),MG.Utils.lazyLoad(),MG.Utils.trackingPixel("img","data-tracking"),MG.Utils.reloadPage()};return{activate:function(){n(),t()},destroy:function(){}}}),MG.Facade.start("Weather")}();